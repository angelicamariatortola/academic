<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 3 Importação e Manipulação de dados | Estatística Computacional com o R</title>
  <meta name="description" content="Capítulo 3 Importação e Manipulação de dados | Estatística Computacional com o R" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 3 Importação e Manipulação de dados | Estatística Computacional com o R" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 3 Importação e Manipulação de dados | Estatística Computacional com o R" />
  
  
  

<meta name="author" content="Profª. Angélica Maria T. Ribeiro" />


<meta name="date" content="2025-03-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tipos-de-objetos.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Estatística Computacional com o R</a></li>

<li class="divider"></li>
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="1" data-path="introdução.html"><a href="introdução.html"><i class="fa fa-check"></i><b>1</b> Introdução</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introdução.html"><a href="introdução.html#sobre-o-r-e-rstudio"><i class="fa fa-check"></i><b>1.1</b> Sobre o R e RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#algumas-aplicações-de-r"><i class="fa fa-check"></i>Algumas aplicações de R:</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#referênciasfontes-de-ajuda"><i class="fa fa-check"></i>Referências/Fontes de ajuda</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introdução.html"><a href="introdução.html#instalação-do-r-e-do-rstudio"><i class="fa fa-check"></i><b>1.2</b> Instalação do R e do RStudio</a></li>
<li class="chapter" data-level="1.3" data-path="introdução.html"><a href="introdução.html#estrutura-do-rstudio"><i class="fa fa-check"></i><b>1.3</b> Estrutura do RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#exercícios-da-sessão"><i class="fa fa-check"></i>1.3 Exercícios da Sessão</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introdução.html"><a href="introdução.html#operações-básicas-em-r"><i class="fa fa-check"></i><b>1.4</b> Operações Básicas em R</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="introdução.html"><a href="introdução.html#operações-aritméticas"><i class="fa fa-check"></i><b>1.4.1</b> Operações Aritméticas</a></li>
<li class="chapter" data-level="1.4.2" data-path="introdução.html"><a href="introdução.html#criando-variáveis-objetos"><i class="fa fa-check"></i><b>1.4.2</b> Criando Variáveis (objetos)</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#respostas"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="1.4.3" data-path="introdução.html"><a href="introdução.html#operações-lógicas-e-comparações"><i class="fa fa-check"></i><b>1.4.3</b> Operações Lógicas e Comparações</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#respostas-1"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#exercícios-da-sessão-1"><i class="fa fa-check"></i>1.4 Exercícios da Sessão</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#respostas-2"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tipos-de-objetos.html"><a href="tipos-de-objetos.html"><i class="fa fa-check"></i><b>2</b> Tipos de objetos</a>
<ul>
<li class="chapter" data-level="2.1" data-path="tipos-de-objetos.html"><a href="tipos-de-objetos.html#vetores"><i class="fa fa-check"></i><b>2.1</b> Vetores</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html"><i class="fa fa-check"></i><b>3</b> Importação e Manipulação de dados</a>
<ul>
<li class="chapter" data-level="3.1" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#leitura-de-arquivos-de-texto"><i class="fa fa-check"></i><b>3.1</b> Leitura de arquivos de texto</a></li>
<li class="chapter" data-level="3.2" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#leitura-de-planilhas"><i class="fa fa-check"></i><b>3.2</b> Leitura de planilhas</a></li>
<li class="chapter" data-level="3.3" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#manipulação-de-dados"><i class="fa fa-check"></i><b>3.3</b> Manipulação de dados</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Estatística Computacional com o R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="importação-e-manipulação-de-dados" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Capítulo 3</span> Importação e Manipulação de dados<a href="importação-e-manipulação-de-dados.html#importação-e-manipulação-de-dados" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>O objetivo deste capítulo é abordar métodos para a importação e manipulação de dados em diferentes formatos e de diferentes fontes.</p>
<p>O primeiro passo é definir o diretório de trabalho. O diretório de trabalho é pasta padrão onde o R irá buscar os arquivos, caso queira acessar um arquivo que não esteja no diretório de trabalho é necessário informar o caminho do arquivo no computador.</p>
<p>Para saber qual o diretório do seu computador utilize o comando <code>getwd()</code> na janela de comando. Para alterar o diretório de trabalho utilize o comando <code>setwd()</code>, onde o argumento deve ser o caminho da pasta que você deseja que seja o diretório.</p>
<div id="leitura-de-arquivos-de-texto" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Leitura de arquivos de texto<a href="importação-e-manipulação-de-dados.html#leitura-de-arquivos-de-texto" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para a leitura de documetos de texto no formato <code>.txt</code> (texto sem formatação) ou <code>.csv</code> (texto separado por virgula) é utilizado os comando do pacote <code>readr</code>.</p>
<p>Suponha que queremos ler o arquivo “PoemaCarloDrummont.txt” que possuiu o seguinte conteúdo:</p>
<pre><code>PoemaCarlosDrummond   N° de palavras
No meio do caminho tinha uma pedra    7 
tinha uma pedra no meio do caminho    7
tinha uma pedra   3
no meio do caminho tinha uma pedra.   7
Nunca me esquecerei desse acontecimento   5
na vida de minhas retinas tão fatigadas.    7
Nunca me esquecerei que no meio do caminho    8
tinha uma pedra   3
tinha uma pedra no meio do caminho    7
no meio do caminho tinha uma pedra.   7
</code></pre>
<p>O arquivo de texto contém um poema de Carlos Drummont e junto a quantidade de palavras por linha. Para ler o arquivo em R pode ser utilizado o comando <code>read_delim("PoemaCarlosDrummond.txt",delim = "\t")</code>.</p>
<p>Para separar as informações foi utilizado a tecla Tab do teclado, o parâmetro <code>delim = "\t"</code> indica essa separação. Onde houver um Tab o comando vai divir em colunas diferentes. Então o arquivo será transformado em base de dados de 10 linhas e 2 colunas, a primeira linha é usada para nomear as colunas.</p>
<p>Para arquivos separados com vírgula (<code>.csv</code>) podem ser usadas dois comando, o comando <code>read_csv(file = "NomeDoArquivo.csv")</code> ou <code>read_csv2("NomeDoArquivo.csv")</code>. A principal diferença é que <code>read_csv()</code> é usado para arquivos separados com vírgula e <code>read_csv2("NomeDoArquivo.csv")</code> para arquivos separados com ponto e vírgula.</p>
</div>
<div id="leitura-de-planilhas" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Leitura de planilhas<a href="importação-e-manipulação-de-dados.html#leitura-de-planilhas" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Planilhas geralmente possuem extensão <code>.xlsx</code> ou <code>.xls</code> para ler arquivos neste formato podem ser usados os comando do pacote <code>readxl</code>.</p>
<p>O principal comando é <code>read_excel(path = CaminhoDoAquivo.xls)</code>, tanto faz o arquivo ter a extensão <code>.xlsx</code> ou <code>.xls</code>, o comando entende as duas.</p>
<p>O pacote <code>readxl</code> possuiu 5 exemplos de arquivos <code>.xlsx</code> e <code>.xls</code> que podem ser acessados utilizando o comando <code>readxl_example()</code>. Um desses arquivos exemplo é <code>"datasets.xls"</code> se executarmos o comando <code>readxl_example("datasets.xls")</code> ele irá retornar o caminho do arquivo <code>"datasets.xls"</code> no computador. Então podemos usar esse caminho para ler o seu conteúdo usando o comando <code>read_excel()</code>.</p>
<p>Muitas vezes um arquivo <code>.xlsx</code> ou <code>.xls</code> é divido em varias planilhas, para saber se um arquivo possui varias planilhas utilize o comando <code>excel_sheets("CaminhoDoArquivo")</code> que retorna o nome de cada uma das planilhas.</p>
</div>
<div id="manipulação-de-dados" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Manipulação de dados<a href="importação-e-manipulação-de-dados.html#manipulação-de-dados" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Após a importação e leitura de uma base de dados é importante trabalhar esses dados para que fiquem num formato mais fácil de serem analisados, plotados e facilitar o processo de inferência das informações.</p>
<p>Dois pacotes pricipais são usados para a manipulação de dados, o pacote <code>dplyr</code> e o pacote <code>tidyr</code>.</p>
<p>Similares aos Data Frames outra estrutura de dados importante são os tibbles, que também são tabelas de informações oraganizadas em colunas, cada uma representando um atributo, mas diferente dos Data Frames sua visualização é mais simples. Para a criação de tibble pode ser utilizado o comando <code>tibble()</code> onde os argumentos serão vetores que representam as colunas.</p>
<pre><code>tibble(
    Nome = c(&quot;João&quot;,&quot;Pedro&quot;,&quot;Gabriel&quot;),
    Altura = c(1.80,1.67,1.86),
    Idade = c(17,11,21),
    Peso = c(70,52,82)
)</code></pre>
<p>Outra forma de criar tibble é transformar Data Frames em tibble utilizando a função <code>as_tibble()</code>. O comando <code>as_tibble()</code> faz parte do pacote <code>tibble</code> que também possui comandos como <code>add_row()</code> para adcionar uma linha ou <code>add_column()</code> para adcionar coluna.</p>
<pre><code>T1 = tibble(
    Nome = c(&quot;João&quot;,&quot;Pedro&quot;,&quot;Gabriel&quot;),
    Altura = c(1.80,1.67,1.86),
    Idade = c(17,11,21),
    Peso = c(70,52,82)
)

T1 %&gt;% add_row(Nome = &quot;Luis&quot;,Altura = 1.77, Idade = 18, Peso = 73)</code></pre>
<p>O comando acima adciona uma nova linha ao tibble <code>T1</code>. O comando <code>%&gt;%</code>, chamado de operador pipe, é uma maneira de passar um parâmetro para um comando.</p>
<p>O objetivo do pacote <code>dplyr</code> é disponibilizar comandos que permitam manipular tibble de uma maneira simples. Um exemplo é o comando <code>select(T1, Altura)</code> que retorna somente a coluna <code>Altura</code> do tibble <code>T1</code>. O comando <code>arrange(T1, Peso)</code> organiza as linhas do tibble <code>T1</code> em ordem crescente de acordo com os valores da coluna <code>Peso</code>.</p>
<p>Os comando do pacote <code>tidyr</code> complementam os comandos do pacote <code>dplyr</code>. Dois principais comandos desse pacote são os comandos <code>separate()</code> e <code>unite()</code>. O comando <code>separate()</code> separa uma coluna de um tibble em novas colunas de acordo com necessidades. O comando <code>unite()</code> realiza o processo inverso, é possivel juntar diferentes colunas em uma única. Para mais informações sobre os comandos desses pacotes utilize os comandos <code>library(help = "dplyr")</code> ou <code>library(help = "tidyr")</code>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tipos-de-objetos.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
