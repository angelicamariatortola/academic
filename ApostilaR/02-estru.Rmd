# Estruturas de Dados

No R, as principais estruturas de dados s√£o:

- **Vetores**
- **Fatores**
- **Matrizes**
- **Listas**
- **Data frames**

## Vetores 

Vetores s√£o a estrutura de dados mais b√°sica do R. Um vetor √© uma sequ√™ncia de elementos do mesmo tipo, podendo ser num√©rico, caracter ou l√≥gico. Pode ser definido como um conjunto de valores: $V=(v_1,v_2,...,v_n)$.


**Principais Caracter√≠sticas dos Vetores**

1. **Homogeneidade**: Todos os elementos devem ser do mesmo tipo (num√©rico, l√≥gico ou caractere).
2. **Indexa√ß√£o Baseada em 1**: O acesso aos elementos √© feito por √≠ndices que come√ßam em 1 (diferente de outras linguagens como Python e C, que come√ßam em 0).
3. **Opera√ß√µes Vetorizadas**: Permite a realiza√ß√£o de opera√ß√µes matem√°ticas diretamente sobre o vetor.
4. **Tamanho Din√¢mico**: Podem ser expandidos automaticamente conforme necess√°rio.
5. **Reciclagem de Vetores**: Quando os vetores t√™m tamanhos diferentes, o vetor menor √© reciclado para igualar o comprimento do maior.


#### Criando um vetor {-}
##### Criando um vetor com `c()` {-}

```r
# Vetor num√©rico
a <- c(1, 2, 3, 4, 5)
# Vetor de caracteres
b <- c("A", "B", "C")
# Vetor l√≥gico
c <- c(TRUE, FALSE, TRUE)
# Vetor misto (convertido para caractere)
d <- c(1, "teste", TRUE)
# Exibindo os vetores
print(a)
print(b)
print(c)
print(d)
```

##### Criando um vetor com `seq()` {-}

Usar $a:b$ cria uma sequ√™ncia de a a b, ou seja, $a, a+1, a+2, ..., b$
  
```{r, eval=F}
## Criando uma sequencia de 1 a 6
1:6
## Criando uma sequencia de 5 a 10
5:10
## Criando uma sequencia decrescente de 10 a 1
10:1
```

Tamb√©m podemos usar a fun√ß√£o `seq()` para criar sequ√™ncias:
  
```{r, eval=F}
seq(from = 1, to = 10, by = 2) 
# gera sequencias de numeros 
# from: valor inicial, to: valor final, 
# by (opcional): Incremento, 
# length.out (opcional): N√∫mero total de elementos 
```
```{r, eval=F}
## Criando uma sequencia de 1 a 6
seq(from = 1, to = 6, by = 1) #equivalente a 1:6
## Criando uma sequencia de 1 a 10, com 5 elementos
seq(1, 10, length.out = 5)  
```

Criando um vetor com a fun√ß√£o `seq()`
```{r}
seq1 <- seq(1, 10, length.out = 5) 
```


##### Criando um vetor com `rep()` {-}
```{r, eval=F}
rep(2, times = 3)
# repete n√∫meros ou vetores
# x: O valor ou vetor a ser repetido.
# times: N√∫mero total de repeti√ß√µes do vetor completo.
# length.out: Define o comprimento final do vetor gerado.
# each: N√∫mero de repeti√ß√µes de cada elemento individualmente.
# times ou length.out devem ser usados.

## Repete o valor 5, at√© completar 2 elementos
rep(5, length.out = 2) 
## Repete o vetor c(2,3) at√© completar 5 elementos
rep(c(2,3), length.out = 5) 
## Repete o vetor c(2,3) at√© 5 vezes
rep(c(2,3), times = 5)
## Repete cada elemento do vetor c(2,3), 3 vezes
rep(c(2,3), each = 3)
```

Criando um vetor com a fun√ß√£o `rep()`
  
```{r, eval=FALSE}
rep1 <- rep(c(1,2), each = 3)
```

##### Criando um vetor com `scan()` {-}

A fun√ß√£o `scan()`  √© utilizada para ler dados de entrada e criar vetores. Ela √© muito √∫til para ler dados de um arquivo ou diretamente do console.

**Exemplo - Vetor num√©rico:** Considere os valores `10  20  30  40  60`. Para ler no R, fazemos:
```r
# Copie os dados acima. 
# Digite o c√≥digo abaixo no Console do R:
x <- scan()
# Pressione Enter. 
# Cole os valores no Console.
# Para finalizar, pressione Enter 2 vezes.
print(x)
```

**Exemplo - Vetor de caracteres:** Considere os valores `Ana Mateus Carlos Tati`. Para ler no R, fazemos:
```r
# Copie os dados acima. 
# Digite o c√≥digo abaixo no Console do R:
nomes <- scan(what = character())
# Pressione Enter. 
# Cole os valores no Console.
# Para finalizar, pressione Enter 2 vezes.
print(nomes)
```

**Exemplo - Separador diferente:** Considere os valores `1,2,3,4,5`. Para ler no R, fazemos:
```r
# Copie os dados acima. 
# Digite o c√≥digo abaixo no Console do R:
valores <- scan(sep = ",")
# Pressione Enter. 
# Cole os valores no Console.
# Para finalizar, pressione Enter 2 vezes.
print(valores)
```

#### Manipula√ß√£o e caracter√≠sticas de vetores {-}

```r
# Criando um vetor:
a <- c(1,2,5,7,8,10)
# Primeiro elemento de a
a[1]
# √öltimo elemento
a[6]
# Subconjunto de elementos
a[2:4]
# Elementos espec√≠ficos
a[c(1, 3, 5)]
```

Modificando valores do vetor $a$:
```r
# Substituindo um elemento
a[2] <- 99
print(a)
# Adicionando novos elementos
a <- c(a, 200)
print(a)
# ou usando a fun√ß√£o append():
a <- append(a, 300)
# Removendo alguma posi√ß√£o do vetor:
a <- a[-2]
# Removendo mais de uma posi√ß√£o do vetor:
a <- a[-c(2,3)]
```

Nomeando os Elementos do Vetor
```r
# Nomes do vetor a:
names(a)
# Atribuindo nomes para o vetor a:
names(a) <- c("x1", "x2", "x3", "x4", "x5")
a["x1"]  # Retorna 3 (elemento nomeado "a")
```

Algumas caracter√≠sticas sobre o vetor: 
```{r}
# Seja o vetor num√©rico:
vec_num <- c(3,6,7,9)
# Seja o vetor de caracteres:
vec_carac <- c("A","B","C")
# Seja o vetor de valores l√≥gicos:
vec_logi <- c(TRUE, TRUE, FALSE)
```

```r
# (1) Tamanho (n√∫mero de elementos):
length(vec_num)
length(vec_carac)
length(vec_logi)
# (2) estrutura:
str(vec_num)
str(vec_carac)
str(vec_logi)
```

Perguntando sobre o tipo do vetor:
```r
# is.vector -> identifica qualquer tipo de vetor
is.vector(vec_num)
is.vector(vec_carac)
is.vector(vec_logi)

# is.character -> identifica vetores de caracteres
is.character(vec_num)
is.character(vec_carac)
is.character(vec_logi)

# is.logical -> identifica vetores de valores logicos
is.logical(vec_num)
is.logical(vec_carac)
is.logical(vec_logi)
```

Para converter vetores de um tipo para outro tipo, fun√ß√µes `as.vector`, `as.character`, `as.logical`:
```r
# as.character -> Transforma em vetor de caracteres
vec_num_carac <- as.character(vec_num)
str(vec_num_carac)

vec_logi_carac <- as.character(vec_logi)
str(vec_logi_carac)

# as.logical -> Transforma em vetor de valores l√≥gicos
vec_num_logi <- as.logical(c(0,1,1,0))
str(vec_num_logi)
```


#### Exerc√≠cios {-}

**1.** Gere o seguinte vetor usando `rep()`: `5 5 5 5 5 10 10 10 10 10`.

<!-- **2.** Crie um vetor que contenha a sequ√™ncia 1, 2, 3 repetindo cada n√∫mero 4 vezes consecutivamente. -->

**2.** Use rep() para gerar um vetor que repita c("A", "B", "C") at√© atingir o tamanho exato de 8 elementos.

**3.** Use seq() para gerar uma sequ√™ncia de n√∫meros de 1 a 20, pulando de 2 em 2.

<!-- **4.** Gere uma sequ√™ncia de 10 a 0, com passo de -2. -->

**4.** Crie uma sequ√™ncia de 5 n√∫meros entre 0 e 1, com espa√ßamento igual entre eles.

**5.** A partir do vetor `v <- c(5, 10, 15, 20, 25, 30)`, extraia os elementos da posi√ß√£o 2 at√© a 5.

**6.** Dado `v <- c(3, 7, 12, 18, 25)`, obtenha apenas os valores maiores que 10.

**7.** Dado `v <- c(10, 20, 30, 40, 50)`, substitua os elementos das posi√ß√µes 2 e 4 por 999.

**8.** Dado `v <- c(2, 4, 6, 8, 10)`, remova o n√∫mero que est√° na posi√ß√£o 4.

**9.** Dado `v <- c("1", "2", "3", "4")`, converta-o para num√©rico.

**10.** Dado `v <- c(100, 200, 300)`, converta-o para caractere.

**11.** Leia os valores: `3.5 7.2 9.8 5.1 6.3`, usando a fun√ß√£o `scan()`. Conte o n√∫mero de elementos do vetor.

**12.** Leia os valores: `10;20;30;40;50`, usando a fun√ß√£o `scan()`.

**13.** Leia os nomes: `Maria Isabel,Aurora,Teresa,Luis,Antonio`, usando a fun√ß√£o `scan()`. Identifique a estrutura do vetor.

<!-- **5.** Combine seq() e rep() para gerar o seguinte vetor: `1 1 2 2 3 3 4 4 5 5` -->

<!-- Desafio Extra: Usando seq() e rep(), crie um vetor  -->
<!-- que contenha a sequ√™ncia de anos de 2000 a 2024,  -->
<!-- repetindo cada ano 3 vezes antes de passar para o pr√≥ximo. -->

<!-- ## Desafio Extra -->

<!-- # ```{r} -->
<!-- # # Anos de 2000 a 2024 repetindo cada ano 3 vezes -->
<!-- # rep(seq(2000, 2024), each = 3) -->
<!-- # ``` -->


<div id="protectedContent1" style="display:none;">
  
### Respostas {-}
```r
# 1. 
rep(c(5, 10), each = 5)
# 2. 
rep(c("A", "B", "C"), length.out = 8)
# 3. 
seq(1, 20, by = 2)
# 4. 
seq(0, 1, length.out = 5)
# 5. 
v <- c(5, 10, 15, 20, 25, 30)
v[2:5]  # Elementos da posi√ß√£o 2 at√© 5
# 6. 
v <- c(3, 7, 12, 18, 25)
v[v > 10]  # Retorna valores maiores que 10
# 7. 
v <- c(10, 20, 30, 40, 50)
v[c(2, 4)] <- 999  # Modifica as posi√ß√µes 2 e 4
# 8. 
v <- c(2, 4, 6, 8, 10)
v <- v[-4]  # Remove o quarto elemento
v
# 9. 
v <- c("1", "2", "3", "4")
v_numeric <- as.numeric(v)
v_numeric
# 10. 
v <- c(100, 200, 300)
v_char <- as.character(v)
v_char
# 11. 
x <- scan()
# 12. 
x <- scan(sep = ";")
# 13.
x <- scan(what = character(), sep = ",")
```

</div>
  
  <input type="password" id="passwordInput1" placeholder="Digite a senha">
  <button id="submitButton1">Acesso Professor</button>
  
  
```{r, results='asis', echo=FALSE}
cat('<script>

document.getElementById("submitButton1").addEventListener("click", function() 
{
  var password = document.getElementById("passwordInput1").value;
  var correctPassword = "0987";
  
  if (password === correctPassword) 
  {
    document.getElementById("protectedContent1").style.display = "block";
  }else 
  {
    alert("Senha incorreta! Tente novamente.");
  }
});
</script>')
```


<br>

#### Opera√ß√µes com vetores {-}

**Opera√ß√µes Aritm√©ticas (elemento a elemento)**
```r
# Considere os valores:
a <- 2
v1 <- c(1, 2, 3)
v2 <- c(4, 5, 6)
## Soma
# Soma de vetores:
v1+v2
# Soma de vetor com escalar:
v1+a
## Subtra√ß√£o
# Subtra√ß√£o de vetores:
v1-v2
# Subtra√ß√£o de vetor com escalar:
v1-a
## Multiplica√ß√£o
# Multiplica√ß√£o de vetores
v1*v2
# Multiplica√ß√£o de vetor com escalar:
v1*a
## Divis√£o
# Divis√£o de vetores
v1/v2
# Resto da divis√£o
v2%%v1
# Parte inteira da divis√£o
v2%/%v1
# Divis√£o de vetor por escalar:
v1/a
## Potencia√ß√£o
# Potencia√ß√£o de vetores
v1^v2
# Potencia√ß√£o de vetor por escalar:
v1^a
## Produto Escalar
v1%*%v2
# equivalente a:
sum(v1*v2)
```

**Reciclagem de Vetores**

Quando os vetores t√™m tamanhos diferentes, o vetor menor √© reciclado para igualar o comprimento do maior.
```{r}
v1 <- c(1, 2, 3, 4)
v2 <- c(10, 20)
v1 + v2  
```


**Opera√ß√µes L√≥gicas e de Compara√ß√£o**
```r
v1 > v2  
v1 < v2 
v1 == v2 
v1 != v2  
# Considere os valores:
x1 <- c(TRUE, FALSE, TRUE)
x2 <- c(FALSE, FALSE, TRUE)
x1 & x2
x1 | x1  
!x1      
```


#### Exerc√≠cios {-}

**1.** Calcule o cubo dos n√∫meros inteiros de 1 a 100, ou seja, $1^3, 2^3, ..., 100^3$.

**2.** Sejam `v1 <- c(3, 6, 9, 12)` e `v2 <- c(2, 4, 6, 8)`.

- Calcule v1 + v2, v1 - v2, v1 * v2 e v1 / v2.
- Eleve cada elemento de v1 ao quadrado.
- Calcule a raiz quadrada de cada elemento de v2.
- Calcule o produto escalar entre os vetores.

**3.** Considere `v3 <- c(10, 20, 30)` e `v4 <- c(5, 15)`.

- Some v3 + v4. O que aconteceu?
- Multiplique v3 * v4. O que aconteceu?
- Explique o conceito de reciclagem de vetores com base no resultado.

**4.** Considere `v6 <- c(10, 15, 20, 25)` e `v7 <- c(12, 15, 18, 28)`.

- Compare v6 e v7 usando >, <, ==, !=.
- Quais valores de v6 s√£o maiores que 15?
- Quais valores de v7 s√£o menores ou iguais a 20?


<div id="protectedContent2" style="display:none;">
  
### Respostas {-}
```{r}
# 1. 
x <- 1:100
x^3

# 2. 
v1 <- c(3, 6, 9, 12)
v2 <- c(2, 4, 6, 8)
v1 + v2
v1 - v2
v1 * v2
v1 / v2
v1^2
sqrt(v2)
v1%*%v2

# 3. 
v3 <- c(10, 20, 30) 
v4 <- c(5, 15)
v3+v4
v3*v4

# 4. 
v6 <- c(10, 15, 20, 25) 
v7 <- c(12, 15, 18, 28)
v6>v7
v6<v7
v6==v7
v6!=v7
v6[v6>15]
v7[v7 <= 20]
```

</div>
  
  <input type="password" id="passwordInput2" placeholder="Digite a senha">
  <button id="submitButton2">Acesso Professor</button>
  
  
```{r, results='asis', echo=FALSE}
cat('<script>

document.getElementById("submitButton2").addEventListener("click", function() 
{
  var password = document.getElementById("passwordInput2").value;
  var correctPassword = "0987";
  
  if (password === correctPassword) 
  {
    document.getElementById("protectedContent2").style.display = "block";
  }else 
  {
    alert("Senha incorreta! Tente novamente.");
  }
});
</script>')
```


<br>


#### Fun√ß√µes √∫teis para vetores {-}

**`sum()` - Soma dos elementos do vetor**
```r
x <- c(1, 3, 7, 8, 15)
sum(x)  
```

**`length()` - Tamanho do vetor**
```r
x <- c(2, 4, 6, 8, 10)
length(x)  
```

**`sort()` - Ordenar um vetor**
```r
x <- c(10, 5, 8, 3, 1)
sort(x)  # Ordena√ß√£o crescente
sort(x, decreasing = TRUE)  # Ordena√ß√£o decrescente
```

**`which()` - √çndices que satisfazem uma condi√ß√£o**
```r
x <- c(10, 20, 30, 40, 50)
which(x > 25)  # Retorna os √≠ndices dos elementos maiores que 25
```

**`unique()` - Elementos √∫nicos**
```r
x <- c(1, 2, 2, 3, 3, 3, 4, 4, 4, 4)
unique(x)  # Retorna os valores √∫nicos
```

**`table()` - Frequ√™ncia dos elementos**
```r
x <- c("A", "B", "A", "C", "B", "B", "A")
table(x)  # Conta quantas vezes cada letra aparece
```

**`%in%` - Operador de Pertin√™ncia**

Verifica se os elementos de um vetor est√£o presentes em outro.

```r
x <- c(1, 2, 3, 4, 5)
y <- c(2, 4, 6)
x %in% y  # Verifica quais elementos de x est√£o em y
# Ter√° o tamanho de x
# Se quisermos filtrar os valores de x que est√£o em y:
x[x %in% y]  # Retorna apenas os elementos de x que tamb√©m est√£o em y
```


```{r, echo=FALSE, results='asis'}
library(knitr)
# Criando a tabela com as fun√ß√µes e suas descri√ß√µes
funcoes <- data.frame(
  Funcao = c("sum()", "length()", "sort()", "which()", "unique()", "table()", "%in%"),
  Descricao = c(
    "Soma dos elementos do vetor",
    "N√∫mero de elementos do vetor",
    "Ordena os elementos do vetor",
    "Indices dos elementos que atendem a uma condi√ß√£o",
    "Valores √∫nicos de um vetor",
    "Frequ√™ncia de cada elemento do vetor",
    "Verifica se os elementos de um vetor pertencem a outro"
  ),
  Exemplo = c(
    "sum(c(1, 4, 2)) ‚Üí 7",
    "length(c(1, 2, 3)) ‚Üí 3",
    "sort(c(5, 1, 3)) ‚Üí 1 3 5",
    "which(c(2, 5, 8) > 4) ‚Üí 2 3",
    "unique(c(1, 1, 2, 3, 3)) ‚Üí 1 2 3",
    "table(c('A', 'B', 'A')) ‚Üí A:2 B:1",
    "c(2, 3, 4) %in% c(3, 4, 5) ‚Üí FALSE TRUE TRUE"
  )
)

# Gerando a tabela formatada
kable(funcoes, caption = "Resumo das Fun√ß√µes para Vetores no R", align = "c")
```


<br>

#### Valores perdidos e especiais {-}

Valores perdidos devem ser definidos como `NA` (not available):
```r
x <- c(1, 3, NA, 2)
x
```

Outros valores especiais s√£o `NaN` (not a number),`-Inf` (menos infinito) e `Inf` (mais infinito):
```r
y <- 0/0
print(y)
z <- 1/0
print(z)
```

Podemos testar a presen√ßa de valores especiais:
```r
# Testando presen√ßa de NA ou NaN:
x <- c(1, 3, NA, 2)
is.na(x)
# ou
any(is.na(x))

y <- 0/0
is.na(y)

# Testando presen√ßa de -Inf ou Inf:
z <- 1/0
is.infinite(z)
```

## Fatores

Os fatores no R s√£o similares aos vetores de caracteres. No entanto, o fator cont√©m categorias (niveis), armazenando valores que pertencem a estes n√≠veis. Para criar fatores, usa-se a fun√ß√£o `factor()`.

```{r}
# Vetor de caracteres
cores_char <- c("azul", "vermelho", "verde", "azul")
print(cores_char) # O vetor de caracteres apenas cont√©m texto.

# Fator
cores_fac <- factor(cores_char)
print(cores_fac) # O fator atribui n√≠veis aos valores.
```

Convers√£o de fator e vetor de caracteres:
```{r}
# Convers√£o de fator para vetor de caracteres 
as.character(cores_fac)
# Convers√£o de vetor de caracteres para fator 
factor(cores_char)
# ou usando as.factor():
as.factor(cores_char)
```

<div style="background-color: #e6f2ff; border: 1px solid #007acc; padding: 10px; border-radius: 5px;">
<details open>
  <summary><strong> üìå Quando Usar Cada Um? </strong></summary>

‚úî *Caracteres (character)*: se os dados forem simplesmente r√≥tulos sem necessidade de categorias ordenadas ou n√≠veis fixos.

‚úî *Fatores (factor)*: se os dados representam categorias que ser√£o usadas em an√°lises estat√≠sticas ou visualiza√ß√µes gr√°ficas.

</div>
</p>
</details>

A ordem dos n√≠veis dos fatores pode tamb√©m ser modificada atrav√©s do argumento `levels`:

```{r}
cores_levels <- factor(c("azul", "vermelho", "verde", "azul"),
                levels = c("verde","azul","vermelho"))
cores_levels
```

Al√©m disso, os n√≠veis dos fatores podem tamb√©m ser explicitamente definidos como *ordenados*, com o argumento `ordered = TRUE`:
```{r}
satisfacao <- factor(c("Ruim", "Bom", "Excelente", "Bom", "Ruim"),
              levels = c("Ruim", "Bom", "Excelente"), 
              ordered = TRUE)
satisfacao
```

<div style="background-color: #e6f2ff; border: 1px solid #007acc; padding: 10px; border-radius: 5px;">
<details open>
  <summary><strong> Compara√ß√£o entre ordered = TRUE e ordered = FALSE </strong></summary>

- `ordered = TRUE`: implica que o R respeita a ordem entre os n√≠veis, permitindo compara√ß√µes e an√°lises baseadas nessa ordem (vari√°veis ordinais).
- `ordered = FALSE`: significa que os n√≠veis s√£o apenas categorias e n√£o s√£o compar√°veis em termos de hierarquia ou ordem (vari√°veis nominais).

</div>
</p>
</details>


Outras fun√ß√µes √∫teis para fatores:
```r
# N√≠veis do fator
levels(cores_levels)
# N√∫mero de n√≠veis do fator
nlevels(cores_levels)
```

#### Exerc√≠cios {-}

**1.** Dado o vetor:
```r
v1 <- c(2, 4, 6, 2, 8, 6, 10, 2, 4, 6)
```

Use fun√ß√µes do R para:

a. Contar o n√∫mero total de elementos do vetor.
b. Encontrar os elementos √∫nicos do vetor.
c. Ordenar os valores do vetor em ordem decrescente.

**2.** Dado o vetor de fatores:
```r
fatores <- factor(c("A", "B", "A", "C", "B", "A", "C", "B", "C", "A"))
```

Use fun√ß√µes do R para:

a. Contar quantas vezes cada n√≠vel aparece.
b. Listar os n√≠veis √∫nicos do fator.

**3.** Dados os vetores:
```r
v2 <- c(5, 10, 15, 20, 25)
v3 <- c(10, 20, 30)
```

a. Verifique quais elementos de v2 est√£o presentes em v3 usando `%in%`.
b. Use a fun√ß√£o `which()` para encontrar as posi√ß√µes dos valores de v2 que est√£o presentes em v3.

**4.** Dado o vetor: `v4 <- c(10, NA, 30, 50, NA, NaN, 20)`:

a. Calcule a soma de todos os elementos, ignorando os valores ausentes (NA e NaN).

b. Calcule o n√∫mero de elementos n√£o ausentes no vetor.

c. Ordene o vetor em ordem crescente, colocando os valores ausentes por √∫ltimo.

d. Use a fun√ß√£o `which()` para encontrar a posi√ß√£o dos valores ausentes no vetor.

**5.** Dado o vetor de fatores:
```r
categorias <- factor(c("A", "B", "A", "C", "B", "A", "B", "C", "A", "C"))
```

a. Use `table()` para contar as frequ√™ncias de cada n√≠vel.
b. Altere o n√≠vel "B" para "X" e recalcule as frequ√™ncias.
c. Ordene os niveis em ordem alfab√©tica usando `sort()` e recalcule as frequ√™ncias.


<div id="protectedContent3" style="display:none;">
  
### Respostas {-}

```{r}
# 1. 
v1 <- c(2, 4, 6, 2, 8, 6, 10, 2, 4, 6)
length(v1)
unique(v1)
sort(v1, decreasing = T)

# 2. 
fatores <- factor(c("A", "B", "A", "C", "B", "A", "C", "B", "C", "A"))
table(fatores)
unique(fatores) #ou
levels(fatores)

# 3. 
v2 <- c(5, 10, 15, 20, 25)
v3 <- c(10, 20, 30)
# Verificando presen√ßa de elementos
v2 %in% v3  # -> elementos 10 e 20
# Posi√ß√µes dos valores de v2 que est√£o em v3
which(v2 %in% v3) # -> posi√ß√µes 2 e 4

# 4. 
v4 <- c(10, NA, 30, 50, NA, NaN, 20)
sum(v4, na.rm = TRUE)  
length(v4[!is.na(v4)])  
sort(v4, na.last = TRUE)  
which(is.na(v4))

# 5. 
categorias <- factor(c("A", "B", "A", "A", "B", "A", "B", "C", "A", "C"))
table(categorias)
levels(categorias)[levels(categorias) == "B"] <- "X"; table(categorias)
categ_ord <- factor(categorias, levels = sort(levels(categorias))); table(categ_ord)
```
</div>
  
  <input type="password" id="passwordInput3" placeholder="Digite a senha">
  <button id="submitButton3">Acesso Professor</button>
  
  
```{r, results='asis', echo=FALSE}
cat('<script>

document.getElementById("submitButton3").addEventListener("click", function() 
{
  var password = document.getElementById("passwordInput3").value;
  var correctPassword = "0987";
  
  if (password === correctPassword) 
  {
    document.getElementById("protectedContent3").style.display = "block";
  }else 
  {
    alert("Senha incorreta! Tente novamente.");
  }
});
</script>')
```


## Matrizes

Matrizes s√£o estruturas bidimensionais de dados, onde todos os elementos devem ser do mesmo tipo. Uma matriz pode ser definida como:
\[
M = \begin{bmatrix}
m_{11} & m_{12} & \dots & m_{1n} \\
m_{21} & m_{22} & \dots & m_{2n} \\
\vdots & \vdots & \ddots & \vdots \\
m_{m1} & m_{m2} & \dots & m_{mn}
\end{bmatrix}
\]

- onde $m$ √© o n√∫mero de linhas e $n$ √© o n√∫mero de colunas da matriz. Neste caso, diz-se que a matriz tem dimens√£o $m\times n$.
- $m_{ij}$ representa o elemento na linha $i$ e coluna $j$.

Em **programa√ß√£o**, matrizes s√£o usadas para armazenar dados de forma estruturada e realizar opera√ß√µes como multiplica√ß√£o e transposi√ß√£o de maneira eficiente.

No **R**, matrizes podem ser criadas com a fun√ß√£o `matrix()` e podem ser manipuladas com opera√ß√µes matem√°ticas vetorizadas.

```{r}
# Exemplo de matriz 2x3 
matriz <- matrix(1:6, nrow = 2, ncol = 3)
matriz

# Alterando o preenchimento da matriz por linhas:
matriz_linhas <- matrix(1:6, nrow = 2, ncol = 3, byrow = T)
matriz_linhas
```

Para verificar a dimens√£o da matriz:

```{r}
dim(matriz)
```

Adicionando colunas com `cbind()`:
```{r}
matriz_mais_colunas <- cbind(matriz, rep(99, 2))
```

Adicionando linhas com `rbind()`:
```{r}
matriz_mais_linhas <- rbind(matriz, rep(99, 3))
```


Renomeando linhas e colunas de uma matriz:
```{r}
colnames(matriz) <- c("c1","c2","c3")
rownames(matriz) <- c("l1","l2")
matriz

# ou podemos fazer:
matriz2 <- matrix(1:6, nrow = 2, 
               dimnames = list(c("l1", "l2"),
                               c("c1", "c2", "c3")))
matriz2
```


Acessando Elementos de Matrizes


```r
# Criando uma matriz 3x3
matriz <- matrix(1:9, nrow = 3)
matriz
# Para acessar o elemento da linha 2, coluna 3:
matriz[2, 3]  
# Acessando a segunda linha
matriz[2, ]  
# Acessando a terceira coluna
matriz[, 3]  
# Se a matriz tiver nomes nas linhas ou colunas:
colnames(matriz) <- c("c1","c2","c3")
rownames(matriz) <- c("l1","l2", "l3")
matriz["l1",] # -> linha 1
matriz[,"c1"] # -> coluna 1
```

Tamb√©m podemos modificar valores diretamente:

```{r}
matriz[1,2] <- 10  # Muda o valor da posi√ß√£o (1,2) para 10
print(matriz)
```


**Opera√ß√µes B√°sicas com Matrizes:**

```r
## Soma de matrizes
A <- matrix(1:4, nrow = 2)
B <- matrix(5:8, nrow = 2)
nrow(A) # N√∫mero de linhas
ncol(A) # N√∫mero de colunas
dim(A) # dimens√£o da matriz: n√∫mero de linhas e n√∫mero de colunas

A + B  # Soma elemento a elemento

## Multiplica√ß√£o elemento a elemento
A * B  

## Multiplica√ß√£o de matrizes (produto matricial)
A %*% B  

## Transposta de uma matriz
t(A)

## Diagonal de uma matriz
diag(A)

## Determinante de uma matriz
det(A)

## Invers√£o de uma matriz 
solve(A)

## Fun√ß√£o solve para resolver sistemas de equa√ß√µes. Seja Ax=b, com
b <- c(2,5)
# ent√£o a solu√ß√£o x do sistema √©:
solve(A, b)
# para a invers√£o da matriz apenas, b = I n√£o precisa ser declarado.
```

#### Exerc√≠cios {-}

**1.** Crie uma matriz de dimens√£o 4x3 contendo os n√∫meros de 1 a 12 preenchidos por linha. Em seguida, realize as seguintes opera√ß√µes:

a. Acesse o elemento da terceira linha e segunda coluna.
b. Extraia a segunda linha da matriz.
c. Substitua o elemento da quarta linha e terceira coluna por 99.

**2.** Crie uma matriz M de dimens√£o 3√ó5 contendo os n√∫meros de 1 a 15 preenchidos por coluna.

a. Exiba a matriz M.
b. Descubra o n√∫mero de linhas e colunas usando nrow() e ncol().
c. Exiba a matriz preenchida por linha em vez de coluna.
d. Extraia o elemento na segunda linha e quarta coluna.
e. Modifique o elemento da terceira linha e quinta coluna para 100.
f. Substitua todos os valores da primeira coluna por 0.

**3.** Crie duas matrizes A e B, ambas 3x3, contendo valores de 1 a 9 e de 10 a 18, respectivamente.

a. Realize a soma e a subtra√ß√£o entre A e B.
b. Multiplique elemento a elemento.
c. Fa√ßa o produto matricial entre A e B.

**4.** Crie as matrizes:

a. Uma matriz identidade 4√ó4
b. Uma matriz diagonal com os n√∫meros 2, 4, 6 e 8 na diagonal principal.


<div id="protectedContent4" style="display:none;">
  
### Respostas {-}

```{r}
# 1. 
mat <- matrix(1:12, ncol = 3, byrow = T)
mat[3,2]
mat[2,]
mat[4,3] <- 99

# 2. 
M <- matrix(1:15, ncol = 5)
M
nrow(M); ncol(M)
M <- matrix(1:15, ncol = 5, byrow = T)
M[2,4]
M[3,5] <- 100
M[,1] <- 0

# 3. 
A <- matrix(1:9, ncol = 3)
B <- matrix(10:18, ncol = 3)
A; B
A + B
A - B
A*B
A%*%B

# 4. 
I <- diag(4)
matriz_diag <- diag(c(2,4,6,8))
```

</div>
  
  <input type="password" id="passwordInput4" placeholder="Digite a senha">
  <button id="submitButton4">Acesso Professor</button>
  
  
```{r, results='asis', echo=FALSE}
cat('<script>

document.getElementById("submitButton4").addEventListener("click", function() 
{
  var password = document.getElementById("passwordInput4").value;
  var correctPassword = "0987";
  
  if (password === correctPassword) 
  {
    document.getElementById("protectedContent4").style.display = "block";
  }else 
  {
    alert("Senha incorreta! Tente novamente.");
  }
});
</script>')
```



## Listas
Listas podem armazenar diferentes tipos de objetos, como vetores, matrizes, etc. Pode ser criada, fazendo: `list(valor1, valor2, valor3)`.
```{r}
# Criando uma lista
minha_lista <- list("Ana", 25, c(8, 9, 10), 
                    matrix(1:4, ncol = 2))
minha_lista
```

Acessando elementos da lista:

```{r}
## Retorna uma lista com o primeiro elemento
minha_lista[1]
str(minha_lista[1])

## Retorna apenas o primeiro elemento da lista
# Acessando o primeiro elemento
minha_lista[[1]] 
str(minha_lista[[1]])

# Acessando o quarto elemento
minha_lista[[4]]  
```

Visualizando a estrutura da lista:
```{r}
str(minha_lista)
```

Observe que √© uma estrutura unidimensional:
```{r}
length(minha_lista)
```

Renomeando os elementos da lista:

```{r}
names(minha_lista) 
names(minha_lista) <- c("nome", "idade", "notas", "matriz")
minha_lista
```
```r
# ou j√° poderiamos ter criado com os nomes:
minha_lista <- list(nome = "Ana", idade = 25, notas = c(8, 9, 10),
                    matriz = matrix(1:4, ncol = 2))
```

Para acessar os elementos da lista pelo nome, podemos usar o operador `$`:
```{r}
minha_lista$nome # equivalente a minha_lista[[1]]
minha_lista$matriz # equivalente a minha_lista[[4]]
```


#### Exerc√≠cios {-}

**1.** Crie uma lista chamada `aluno` com os seguintes elementos: Nome: "Maria", Idade: 22, Notas: 7, 8, 9, Curso: "Matem√°tica". Depois, realize as opera√ß√µes:
a. Acesse e imprima o nome do aluno.
b. Modifique a idade para 23.
c. Adicione um novo elemento chamado "cidade" com o valor "Curitiba".
d. Remova o elemento "curso".



## Data Frames
Os data.frames s√£o estruturas de dados que armazenam colunas de diferentes tipos (num√©ricas, categ√≥ricas, l√≥gicas).
```{r, eval=F}
## Criando um data frame
dados <- data.frame(
  Nome = c("Ana", "Bruno", "Carlos", "Maria", "Jose", "Tata", "Mia"),
  Nivel_escolaridade = c("F","M","S","M","F","M","F"),
  Idade = c(25, 30, 22, 10, 15, 16, 24),
  Nota = c(8,6,3,4,7,2,9),
  Aprovado = c(TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, TRUE)
)

## Algumas opera√ß√µes em data frames:

# Selecionando a segunda coluna
dados[, 2]

# Selecionando linhas com idade maior que 25
dados[dados$Idade > 25, ]

# Selecionando apenas a coluna "Nome"
dados$Nome

# Usando subset para filtrar dados
subset(dados, Idade > 25)

# Selecionando apenas a coluna "Nome" onde a idade √© maior que 25
subset(dados, Idade > 25, select = Nome)

# Ordenando o data frame por idade
dados[order(dados$Idade), ]

# Ordenando por idade em ordem decrescente
dados[order(dados$Idade, decreasing = TRUE), ]

# Adicionando uma nova coluna
dados$Status <- c("Aprovado", "Aprovado", "Reprovado", "Aprovado")

# Removendo uma coluna
dados$Status <- NULL

# Renomeando colunas
colnames(dados) <- c("Nome_Aluno", "Idade_Aluno", "Nota_Final")
dados
```

