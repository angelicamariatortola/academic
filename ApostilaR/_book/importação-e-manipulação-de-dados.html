<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 4 Importação e Manipulação de dados | Estatística Computacional com o R</title>
  <meta name="description" content="Capítulo 4 Importação e Manipulação de dados | Estatística Computacional com o R" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 4 Importação e Manipulação de dados | Estatística Computacional com o R" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 4 Importação e Manipulação de dados | Estatística Computacional com o R" />
  
  
  

<meta name="author" content="Profª. Angélica Maria T. Ribeiro" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="controle-de-fluxo-e-funções.html"/>
<link rel="next" href="análises-estatísticas-básicas.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Estatística Computacional com o R</a></li>

<li class="divider"></li>
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="1" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html"><i class="fa fa-check"></i><b>1</b> Conceitos Básicos</a>
<ul>
<li class="chapter" data-level="1.1" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html#sobre-o-r-e-rstudio"><i class="fa fa-check"></i><b>1.1</b> Sobre o R e RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html#algumas-aplicações-de-r"><i class="fa fa-check"></i>Algumas aplicações de R:</a></li>
<li class="chapter" data-level="" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html#referênciasfontes-de-ajuda"><i class="fa fa-check"></i>Referências/Fontes de ajuda</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html#instalação-do-r-e-do-rstudio"><i class="fa fa-check"></i><b>1.2</b> Instalação do R e do RStudio</a></li>
<li class="chapter" data-level="1.3" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html#estrutura-do-rstudio"><i class="fa fa-check"></i><b>1.3</b> Estrutura do RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html#exercícios-da-sessão"><i class="fa fa-check"></i>1.3 Exercícios da Sessão</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html#operações-básicas-em-r"><i class="fa fa-check"></i><b>1.4</b> Operações Básicas em R</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html#operações-aritméticas"><i class="fa fa-check"></i><b>1.4.1</b> Operações Aritméticas</a></li>
<li class="chapter" data-level="1.4.2" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html#criando-variáveis-objetos"><i class="fa fa-check"></i><b>1.4.2</b> Criando Variáveis (objetos)</a></li>
<li class="chapter" data-level="" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html#respostas"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="1.4.3" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html#operações-lógicas-e-comparações"><i class="fa fa-check"></i><b>1.4.3</b> Operações Lógicas e Comparações</a></li>
<li class="chapter" data-level="" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html#respostas-1"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html#exercícios-da-sessão-1"><i class="fa fa-check"></i>1.4 Exercícios da Sessão</a></li>
<li class="chapter" data-level="" data-path="conceitos-básicos.html"><a href="conceitos-básicos.html#respostas-2"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html"><i class="fa fa-check"></i><b>2</b> Estruturas de Dados</a>
<ul>
<li class="chapter" data-level="2.1" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#vetores"><i class="fa fa-check"></i><b>2.1</b> Vetores</a>
<ul>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#respostas-3"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#respostas-4"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#fatores"><i class="fa fa-check"></i><b>2.2</b> Fatores</a>
<ul>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#respostas-5"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#matrizes"><i class="fa fa-check"></i><b>2.3</b> Matrizes</a>
<ul>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#respostas-6"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#listas"><i class="fa fa-check"></i><b>2.4</b> Listas</a>
<ul>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#respostas-7"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#data-frames"><i class="fa fa-check"></i><b>2.5</b> Data Frames</a>
<ul>
<li class="chapter" data-level="" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#respostas-8"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="estruturas-de-dados.html"><a href="estruturas-de-dados.html#exercícios-do-capítulo-2-entregar-na-lista-1"><i class="fa fa-check"></i><b>2.6</b> Exercícios do Capítulo 2 <span style="color:red">(Entregar na lista 1)</span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="controle-de-fluxo-e-funções.html"><a href="controle-de-fluxo-e-funções.html"><i class="fa fa-check"></i><b>3</b> Controle de Fluxo e Funções</a>
<ul>
<li class="chapter" data-level="3.1" data-path="controle-de-fluxo-e-funções.html"><a href="controle-de-fluxo-e-funções.html#controle-de-fluxo"><i class="fa fa-check"></i><b>3.1</b> Controle de Fluxo</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="controle-de-fluxo-e-funções.html"><a href="controle-de-fluxo-e-funções.html#execução-condicional"><i class="fa fa-check"></i><b>3.1.1</b> Execução Condicional</a></li>
<li class="chapter" data-level="" data-path="controle-de-fluxo-e-funções.html"><a href="controle-de-fluxo-e-funções.html#respostas-9"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="3.1.2" data-path="controle-de-fluxo-e-funções.html"><a href="controle-de-fluxo-e-funções.html#loopings"><i class="fa fa-check"></i><b>3.1.2</b> Loopings</a></li>
<li class="chapter" data-level="" data-path="controle-de-fluxo-e-funções.html"><a href="controle-de-fluxo-e-funções.html#respostas-10"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="3.1.3" data-path="controle-de-fluxo-e-funções.html"><a href="controle-de-fluxo-e-funções.html#controle-de-fluxo-break-e-next"><i class="fa fa-check"></i><b>3.1.3</b> Controle de Fluxo (break e next)</a></li>
<li class="chapter" data-level="" data-path="controle-de-fluxo-e-funções.html"><a href="controle-de-fluxo-e-funções.html#respostas-11"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="controle-de-fluxo-e-funções.html"><a href="controle-de-fluxo-e-funções.html#família-de-funções-apply"><i class="fa fa-check"></i><b>3.2</b> Família de funções apply</a>
<ul>
<li class="chapter" data-level="" data-path="controle-de-fluxo-e-funções.html"><a href="controle-de-fluxo-e-funções.html#respostas-12"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="controle-de-fluxo-e-funções.html"><a href="controle-de-fluxo-e-funções.html#funções"><i class="fa fa-check"></i><b>3.3</b> Funções</a>
<ul>
<li class="chapter" data-level="" data-path="controle-de-fluxo-e-funções.html"><a href="controle-de-fluxo-e-funções.html#respostas-13"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="controle-de-fluxo-e-funções.html"><a href="controle-de-fluxo-e-funções.html#exercícios-do-capítulo-3-entregar-na-lista-1"><i class="fa fa-check"></i><b>3.4</b> Exercícios do Capítulo 3 <span style="color:red">(Entregar na lista 1)</span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html"><i class="fa fa-check"></i><b>4</b> Importação e Manipulação de dados</a>
<ul>
<li class="chapter" data-level="4.1" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#importação-e-exportação-de-dados"><i class="fa fa-check"></i><b>4.1</b> Importação e exportação de Dados</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#usando-funções-básicas-do-r"><i class="fa fa-check"></i><b>4.1.1</b> Usando funções básicas do R</a></li>
<li class="chapter" data-level="" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#respostas-14"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="4.1.2" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#usando-funções-do-pacote-readr"><i class="fa fa-check"></i><b>4.1.2</b> Usando funções do pacote readr</a></li>
<li class="chapter" data-level="4.1.3" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#usando-funções-do-pacote-readxl"><i class="fa fa-check"></i><b>4.1.3</b> Usando funções do pacote readxl</a></li>
<li class="chapter" data-level="" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#respostas-15"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#manipulação-de-dados"><i class="fa fa-check"></i><b>4.2</b> Manipulação de Dados</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#tibbles"><i class="fa fa-check"></i><b>4.2.1</b> Tibbles</a></li>
<li class="chapter" data-level="4.2.2" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#o-operador-pipe"><i class="fa fa-check"></i><b>4.2.2</b> O Operador Pipe (<code>%&gt;%</code>)</a></li>
<li class="chapter" data-level="" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#respostas-16"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="4.2.3" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#o-pacote-dplyr"><i class="fa fa-check"></i><b>4.2.3</b> O pacote dplyr</a></li>
<li class="chapter" data-level="" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#respostas-17"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#respostas-18"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#respostas-19"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="importação-e-manipulação-de-dados.html"><a href="importação-e-manipulação-de-dados.html#exercícios-do-capítulo-4-entregar-na-lista-1"><i class="fa fa-check"></i><b>4.3</b> Exercícios do Capítulo 4 <span style="color:red">(Entregar na lista 1)</span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="análises-estatísticas-básicas.html"><a href="análises-estatísticas-básicas.html"><i class="fa fa-check"></i><b>5</b> Análises Estatísticas Básicas</a>
<ul>
<li class="chapter" data-level="5.1" data-path="análises-estatísticas-básicas.html"><a href="análises-estatísticas-básicas.html#análises-descritivas"><i class="fa fa-check"></i><b>5.1</b> Análises Descritivas</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="análises-estatísticas-básicas.html"><a href="análises-estatísticas-básicas.html#tabelas-de-frequência"><i class="fa fa-check"></i><b>5.1.1</b> Tabelas de Frequência</a></li>
<li class="chapter" data-level="5.1.2" data-path="análises-estatísticas-básicas.html"><a href="análises-estatísticas-básicas.html#medidas-descritivas"><i class="fa fa-check"></i><b>5.1.2</b> Medidas Descritivas</a></li>
<li class="chapter" data-level="5.1.3" data-path="análises-estatísticas-básicas.html"><a href="análises-estatísticas-básicas.html#gráficos"><i class="fa fa-check"></i><b>5.1.3</b> Gráficos</a></li>
<li class="chapter" data-level="" data-path="análises-estatísticas-básicas.html"><a href="análises-estatísticas-básicas.html#respostas-20"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="análises-estatísticas-básicas.html"><a href="análises-estatísticas-básicas.html#probabilidade"><i class="fa fa-check"></i><b>5.2</b> Probabilidade</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="análises-estatísticas-básicas.html"><a href="análises-estatísticas-básicas.html#principais-modelos-discretos"><i class="fa fa-check"></i><b>5.2.1</b> Principais Modelos Discretos</a></li>
<li class="chapter" data-level="5.2.2" data-path="análises-estatísticas-básicas.html"><a href="análises-estatísticas-básicas.html#principais-modelos-contínuos"><i class="fa fa-check"></i><b>5.2.2</b> Principais Modelos Contínuos</a></li>
<li class="chapter" data-level="" data-path="análises-estatísticas-básicas.html"><a href="análises-estatísticas-básicas.html#respostas-21"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="análises-estatísticas-básicas.html"><a href="análises-estatísticas-básicas.html#análises-inferenciais"><i class="fa fa-check"></i><b>5.3</b> Análises Inferenciais</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="análises-estatísticas-básicas.html"><a href="análises-estatísticas-básicas.html#intervalo-de-confiança"><i class="fa fa-check"></i><b>5.3.1</b> Intervalo de Confiança</a></li>
<li class="chapter" data-level="5.3.2" data-path="análises-estatísticas-básicas.html"><a href="análises-estatísticas-básicas.html#testes-de-hipóteses"><i class="fa fa-check"></i><b>5.3.2</b> Testes de Hipóteses</a></li>
<li class="chapter" data-level="" data-path="análises-estatísticas-básicas.html"><a href="análises-estatísticas-básicas.html#respostas-22"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="gráficos-e-visualização-de-dados.html"><a href="gráficos-e-visualização-de-dados.html"><i class="fa fa-check"></i><b>6</b> Gráficos e visualização de dados</a>
<ul>
<li class="chapter" data-level="6.1" data-path="gráficos-e-visualização-de-dados.html"><a href="gráficos-e-visualização-de-dados.html#gráficos-básicos-com-graphics"><i class="fa fa-check"></i><b>6.1</b> Gráficos básicos com graphics</a>
<ul>
<li class="chapter" data-level="" data-path="gráficos-e-visualização-de-dados.html"><a href="gráficos-e-visualização-de-dados.html#respostas-23"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="gráficos-e-visualização-de-dados.html"><a href="gráficos-e-visualização-de-dados.html#gráficos-com-ggplot2"><i class="fa fa-check"></i><b>6.2</b> Gráficos com ggplot2</a>
<ul>
<li class="chapter" data-level="" data-path="gráficos-e-visualização-de-dados.html"><a href="gráficos-e-visualização-de-dados.html#respostas-24"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="gráficos-e-visualização-de-dados.html"><a href="gráficos-e-visualização-de-dados.html#gráficos-interativos-com-plotly"><i class="fa fa-check"></i><b>6.3</b> Gráficos Interativos com plotly</a>
<ul>
<li class="chapter" data-level="" data-path="gráficos-e-visualização-de-dados.html"><a href="gráficos-e-visualização-de-dados.html#respostas-25"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>7</b> R Markdown</a>
<ul>
<li class="chapter" data-level="7.1" data-path="r-markdown.html"><a href="r-markdown.html#conceitos-básicos-1"><i class="fa fa-check"></i><b>7.1</b> Conceitos Básicos</a></li>
<li class="chapter" data-level="7.2" data-path="r-markdown.html"><a href="r-markdown.html#corpo-do-documento"><i class="fa fa-check"></i><b>7.2</b> Corpo do documento</a>
<ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#respostas-26"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#respostas-27"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="r-markdown.html"><a href="r-markdown.html#slides-e-apresentações"><i class="fa fa-check"></i><b>7.3</b> Slides e Apresentações</a></li>
<li class="chapter" data-level="7.4" data-path="r-markdown.html"><a href="r-markdown.html#exercícios-do-capítulo-7-entregar-na-lista-2"><i class="fa fa-check"></i><b>7.4</b> Exercícios do Capítulo 7 <span style="color:red">(Entregar na lista 2)</span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>8</b> Shiny</a>
<ul>
<li class="chapter" data-level="8.1" data-path="shiny.html"><a href="shiny.html#introdução-ao-shiny"><i class="fa fa-check"></i><b>8.1</b> Introdução ao Shiny</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="shiny.html"><a href="shiny.html#adicionando-controles-de-ui"><i class="fa fa-check"></i><b>8.1.1</b> Adicionando controles de UI</a></li>
<li class="chapter" data-level="8.1.2" data-path="shiny.html"><a href="shiny.html#adicionando-comportamento-ao-server"><i class="fa fa-check"></i><b>8.1.2</b> Adicionando comportamento ao Server</a></li>
<li class="chapter" data-level="8.1.3" data-path="shiny.html"><a href="shiny.html#expressões-reativas"><i class="fa fa-check"></i><b>8.1.3</b> Expressões Reativas</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#exercícios---seção-8.1"><i class="fa fa-check"></i>Exercícios - Seção 8.1</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#respostas-28"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="shiny.html"><a href="shiny.html#ui-básica"><i class="fa fa-check"></i><b>8.2</b> UI básica</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="shiny.html"><a href="shiny.html#entradas"><i class="fa fa-check"></i><b>8.2.1</b> Entradas</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#exercícios---seção-8.2.1"><i class="fa fa-check"></i>Exercícios - Seção 8.2.1</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#respostas-29"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="8.2.2" data-path="shiny.html"><a href="shiny.html#saídas"><i class="fa fa-check"></i><b>8.2.2</b> Saídas</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#exercícios---seção-8.2.2"><i class="fa fa-check"></i>Exercícios - Seção 8.2.2</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#respostas-30"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="shiny.html"><a href="shiny.html#reatividade-básica"><i class="fa fa-check"></i><b>8.3</b> Reatividade básica</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="shiny.html"><a href="shiny.html#a-função-do-servidor"><i class="fa fa-check"></i><b>8.3.1</b> A função do servidor</a></li>
<li class="chapter" data-level="8.3.2" data-path="shiny.html"><a href="shiny.html#programação-reativa"><i class="fa fa-check"></i><b>8.3.2</b> Programação reativa</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#exercícios---seção-8.3.2"><i class="fa fa-check"></i>Exercícios - Seção 8.3.2</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#respostas-31"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="8.3.3" data-path="shiny.html"><a href="shiny.html#observeevent-e-eventreactive"><i class="fa fa-check"></i><b>8.3.3</b> observeEvent() e eventReactive()</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#exercícios---seções-8.1-a-8.3"><i class="fa fa-check"></i>Exercícios - Seções 8.1 a 8.3</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#respostas-32"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="shiny.html"><a href="shiny.html#layout-temas-html"><i class="fa fa-check"></i><b>8.4</b> Layout, temas, HTML</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="shiny.html"><a href="shiny.html#layouts"><i class="fa fa-check"></i><b>8.4.1</b> Layouts</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#exercícios-26"><i class="fa fa-check"></i>Exercícios</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#respostas-33"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#exercícios-27"><i class="fa fa-check"></i>Exercícios</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#respostas-34"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="8.4.2" data-path="shiny.html"><a href="shiny.html#temas-1"><i class="fa fa-check"></i><b>8.4.2</b> Temas</a></li>
<li class="chapter" data-level="8.4.3" data-path="shiny.html"><a href="shiny.html#html"><i class="fa fa-check"></i><b>8.4.3</b> HTML</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#exercícios-28"><i class="fa fa-check"></i>Exercícios</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#respostas-35"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="shiny.html"><a href="shiny.html#ui-dinâmica"><i class="fa fa-check"></i><b>8.5</b> UI dinâmica</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="shiny.html"><a href="shiny.html#usando-a-familia-de-funções-update"><i class="fa fa-check"></i><b>8.5.1</b> Usando a familia de funções update</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#exercícios-29"><i class="fa fa-check"></i>Exercícios</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#respostas-36"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="8.5.2" data-path="shiny.html"><a href="shiny.html#usando-tabsetpanel-com-updatetabsetpanel"><i class="fa fa-check"></i><b>8.5.2</b> Usando tabsetPanel() com updateTabsetPanel()</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#exercícios-30"><i class="fa fa-check"></i>Exercícios</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#respostas-37"><i class="fa fa-check"></i>Respostas</a></li>
<li class="chapter" data-level="8.5.3" data-path="shiny.html"><a href="shiny.html#usando-uioutput-e-renderui"><i class="fa fa-check"></i><b>8.5.3</b> Usando <code>uiOutput()</code> e <code>renderUI()</code></a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#exercícios-31"><i class="fa fa-check"></i>Exercícios</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#respostas-38"><i class="fa fa-check"></i>Respostas</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="shiny.html"><a href="shiny.html#exercícios-do-capítulo-8-entregar-na-lista-2"><i class="fa fa-check"></i><b>8.6</b> Exercícios do Capítulo 8 <span style="color:red">(Entregar na lista 2)</span></a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Estatística Computacional com o R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="importação-e-manipulação-de-dados" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Capítulo 4</span> Importação e Manipulação de dados<a href="importação-e-manipulação-de-dados.html#importação-e-manipulação-de-dados" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="importação-e-exportação-de-dados" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Importação e exportação de Dados<a href="importação-e-manipulação-de-dados.html#importação-e-exportação-de-dados" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div style="background-color: #e6f2ff; border: 1px solid #007acc; padding: 10px; border-radius: 5px;">
<details open>
<summary>
<strong> Caminhos: </strong>
</summary>
<ul>
<li>Funções de importação/exportação exigem um caminho/endereço do local onde os dados/arquivos estão salvos;</li>
<li>Podemos passar para estas funções o <em>caminho absoluto</em> (caminhos completos que conduzem ao arquivo de interesse);</li>
<li>O <em>caminho absoluto</em> pode dificultar que outras pessoas reproduzam o mesmo código em outros computadores;</li>
<li>Deste modo, uma boa prática é especificar o <strong>diretório de trabalho</strong> que o R vai considerar como referência. E nas funções de importação ou exportação, nomear apenas o <em>caminho relativo</em> (caminho reduzido, ou seja, apenas o nome da pasta ou arquivo de interesse);</li>
<li><strong>Diretório de trabalho</strong>: Local/pasta que o R usa de referência para buscar, importar, exportar e salvar arquivos.</li>
</ul>
</details>
</div>
<p>Para identificar o diretório de trabalho da sessão R usamos <code>getwd()</code>. Para definir outro diretório usar <code>setwd("caminho_do_seu_diretorio")</code>.</p>
<p>Aqui vamos utilizar o diretório de trabalho:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="importação-e-manipulação-de-dados.html#cb1-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;/home/angelica/Dropbox/UTFPR/Ensino/Estatistica Computacional com o R/</span></span>
<span id="cb1-2"><a href="importação-e-manipulação-de-dados.html#cb1-2" tabindex="-1"></a><span class="st">Capitulo 3 - Importacao&quot;</span>)</span></code></pre></div>
<div id="usando-funções-básicas-do-r" class="section level3 hasAnchor" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Usando funções básicas do R<a href="importação-e-manipulação-de-dados.html#usando-funções-básicas-do-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="importando-dados-de-pacotes" class="section level4 unnumbered hasAnchor">
<h4>Importando dados de pacotes<a href="importação-e-manipulação-de-dados.html#importando-dados-de-pacotes" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Para visualizar os dados de pacotes instalados no R:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="importação-e-manipulação-de-dados.html#cb2-1" tabindex="-1"></a><span class="fu">data</span>(<span class="at">package =</span> <span class="fu">.packages</span>(<span class="at">all.available =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<p>Para visualizar dados específicos de algum pacote:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="importação-e-manipulação-de-dados.html#cb3-1" tabindex="-1"></a><span class="fu">data</span>(<span class="at">package =</span> <span class="st">&quot;carData&quot;</span>) </span></code></pre></div>
<p>Para importar algum conjunto de dados de um pacote:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="importação-e-manipulação-de-dados.html#cb4-1" tabindex="-1"></a><span class="co"># Carregando o conjunto &quot;Adler&quot; do pacote &quot;carData&quot;</span></span>
<span id="cb4-2"><a href="importação-e-manipulação-de-dados.html#cb4-2" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;Adler&quot;</span>, <span class="at">package =</span> <span class="st">&quot;carData&quot;</span>)</span></code></pre></div>
<p>Trabalhando com os dados importados:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="importação-e-manipulação-de-dados.html#cb5-1" tabindex="-1"></a><span class="co"># Acessando variáveis destes dados:</span></span>
<span id="cb5-2"><a href="importação-e-manipulação-de-dados.html#cb5-2" tabindex="-1"></a>Adler<span class="sc">$</span>instruction </span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="importação-e-manipulação-de-dados.html#cb6-1" tabindex="-1"></a><span class="co"># Visualizando a estrutura dos dados:</span></span>
<span id="cb6-2"><a href="importação-e-manipulação-de-dados.html#cb6-2" tabindex="-1"></a><span class="fu">str</span>(Adler)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    108 obs. of  3 variables:
##  $ instruction: Factor w/ 3 levels &quot;good&quot;,&quot;none&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ expectation: Factor w/ 2 levels &quot;high&quot;,&quot;low&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ rating     : int  25 0 -16 5 11 -6 42 -2 -13 14 ...</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="importação-e-manipulação-de-dados.html#cb8-1" tabindex="-1"></a><span class="co"># Visualizando as primeiras linhas dos dados:</span></span>
<span id="cb8-2"><a href="importação-e-manipulação-de-dados.html#cb8-2" tabindex="-1"></a><span class="fu">head</span>(Adler)</span></code></pre></div>
<pre><code>##   instruction expectation rating
## 1        good        high     25
## 2        good        high      0
## 3        good        high    -16
## 4        good        high      5
## 5        good        high     11
## 6        good        high     -6</code></pre>
</div>
<div id="exportando-dados-do-r-para-algum-diretório" class="section level4 unnumbered hasAnchor">
<h4>Exportando dados do R para algum diretório<a href="importação-e-manipulação-de-dados.html#exportando-dados-do-r-para-algum-diretório" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="importação-e-manipulação-de-dados.html#cb10-1" tabindex="-1"></a><span class="do">## Exportando arquivos CSV</span></span>
<span id="cb10-2"><a href="importação-e-manipulação-de-dados.html#cb10-2" tabindex="-1"></a><span class="fu">write.csv</span>(Adler, <span class="at">file =</span> <span class="st">&quot;dados_adler.csv&quot;</span>, </span>
<span id="cb10-3"><a href="importação-e-manipulação-de-dados.html#cb10-3" tabindex="-1"></a>          <span class="at">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="at">dec =</span> <span class="st">&quot;.&quot;</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb10-4"><a href="importação-e-manipulação-de-dados.html#cb10-4" tabindex="-1"></a><span class="do">## Exportando arquivos TXT</span></span>
<span id="cb10-5"><a href="importação-e-manipulação-de-dados.html#cb10-5" tabindex="-1"></a><span class="fu">write.table</span>(Adler, <span class="at">file =</span> <span class="st">&quot;dados_adler.txt&quot;</span>, </span>
<span id="cb10-6"><a href="importação-e-manipulação-de-dados.html#cb10-6" tabindex="-1"></a>            <span class="at">sep =</span> <span class="st">&quot; &quot;</span>, <span class="at">dec =</span> <span class="st">&quot;.&quot;</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
</div>
<div id="importando-dados-de-arquivos-locais" class="section level4 unnumbered hasAnchor">
<h4>Importando dados de arquivos locais<a href="importação-e-manipulação-de-dados.html#importando-dados-de-arquivos-locais" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="importação-e-manipulação-de-dados.html#cb11-1" tabindex="-1"></a><span class="do">## Arquivos CSV</span></span>
<span id="cb11-2"><a href="importação-e-manipulação-de-dados.html#cb11-2" tabindex="-1"></a>dados <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;dados.csv&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="at">dec =</span> <span class="st">&quot;.&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-3"><a href="importação-e-manipulação-de-dados.html#cb11-3" tabindex="-1"></a><span class="do">## Arquivos TSV</span></span>
<span id="cb11-4"><a href="importação-e-manipulação-de-dados.html#cb11-4" tabindex="-1"></a>dados <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">&quot;dados.tsv&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>, <span class="at">dec =</span> <span class="st">&quot;.&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-5"><a href="importação-e-manipulação-de-dados.html#cb11-5" tabindex="-1"></a><span class="do">## Arquivos TXT</span></span>
<span id="cb11-6"><a href="importação-e-manipulação-de-dados.html#cb11-6" tabindex="-1"></a>dados <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;dados.txt&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>, <span class="at">dec =</span> <span class="st">&quot;.&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><strong>Argumentos:</strong></p>
<ul>
<li>sep → Define o separador de colunas.</li>
<li>dec → Define o separador decimal.</li>
<li>header = TRUE → Indica se a primeira linha contém nomes das colunas.</li>
</ul>
<p><strong>Comparação:</strong></p>
<ul>
<li>read.csv() → Arquivos CSV padrão (separador “,” e decimal “.”).</li>
<li>read.delim() → Arquivos .tsv (tabulação “).</li>
<li>read.table() → Arquivos .txt. Função mais genérica. Importa arquivos gerais</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="importação-e-manipulação-de-dados.html#cb12-1" tabindex="-1"></a><span class="co"># Exemplo:</span></span>
<span id="cb12-2"><a href="importação-e-manipulação-de-dados.html#cb12-2" tabindex="-1"></a><span class="co"># Dados Adler - extensão txt</span></span>
<span id="cb12-3"><a href="importação-e-manipulação-de-dados.html#cb12-3" tabindex="-1"></a>dados_adler_txt <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;dados_adler.txt&quot;</span>, <span class="at">header =</span> T)</span>
<span id="cb12-4"><a href="importação-e-manipulação-de-dados.html#cb12-4" tabindex="-1"></a><span class="co"># Dados Adler - extensão csv</span></span>
<span id="cb12-5"><a href="importação-e-manipulação-de-dados.html#cb12-5" tabindex="-1"></a>dados_adler_csv <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;dados_adler.csv&quot;</span>,  <span class="at">header =</span> T)</span>
<span id="cb12-6"><a href="importação-e-manipulação-de-dados.html#cb12-6" tabindex="-1"></a><span class="co"># Dados Adler - extensão tsv</span></span>
<span id="cb12-7"><a href="importação-e-manipulação-de-dados.html#cb12-7" tabindex="-1"></a>dados_adler_tsv <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">&quot;dados_adler.tsv&quot;</span>,  <span class="at">header =</span> T)</span></code></pre></div>
</div>
<div id="importando-dados-da-web" class="section level4 unnumbered hasAnchor">
<h4>Importando dados da Web<a href="importação-e-manipulação-de-dados.html#importando-dados-da-web" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Podemos usar as funções <code>read.table</code> e <code>read.csv</code> também para importar dados da web:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="importação-e-manipulação-de-dados.html#cb13-1" tabindex="-1"></a><span class="do">## Extensão txt</span></span>
<span id="cb13-2"><a href="importação-e-manipulação-de-dados.html#cb13-2" tabindex="-1"></a>dados_web_txt <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;https://angelicamariatortola.github.io/academic/</span></span>
<span id="cb13-3"><a href="importação-e-manipulação-de-dados.html#cb13-3" tabindex="-1"></a><span class="st">figs/dados_adler.txt&quot;</span>, <span class="at">header =</span> T)</span>
<span id="cb13-4"><a href="importação-e-manipulação-de-dados.html#cb13-4" tabindex="-1"></a><span class="do">## Extensão csv</span></span>
<span id="cb13-5"><a href="importação-e-manipulação-de-dados.html#cb13-5" tabindex="-1"></a>dados_web_csv <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://angelicamariatortola.github.io/academic/</span></span>
<span id="cb13-6"><a href="importação-e-manipulação-de-dados.html#cb13-6" tabindex="-1"></a><span class="st">figs/dados_adler.csv&quot;</span>, <span class="at">header =</span> T)</span></code></pre></div>
</div>
<div id="exercícios-10" class="section level4 unnumbered hasAnchor">
<h4>Exercícios<a href="importação-e-manipulação-de-dados.html#exercícios-10" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>1.</strong> Considere o pacote <code>datasets</code>:</p>
<ol style="list-style-type: lower-alpha">
<li>Liste os conjuntos de dados disponíveis no pacote.</li>
<li>Carregue o conjunto “mtcars” e exiba suas primeiras 6 linhas.</li>
<li>Carregue o conjunto “iris” e verifique a sua estrutura.</li>
<li>Print os nomes das variáveis dos dados “mtcars” e “iris”.</li>
<li>Quantas linhas e colunas tem cada um destes conjuntos de dados?</li>
</ol>
<p><strong>2.</strong> Crie um arquivo chamado “dados.txt” com o seguinte conteúdo (salve no seu diretório de trabalho):</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="importação-e-manipulação-de-dados.html#cb14-1" tabindex="-1"></a>Nome Idade Altura</span>
<span id="cb14-2"><a href="importação-e-manipulação-de-dados.html#cb14-2" tabindex="-1"></a>Ana <span class="dv">25</span> <span class="fl">1.68</span></span>
<span id="cb14-3"><a href="importação-e-manipulação-de-dados.html#cb14-3" tabindex="-1"></a>João <span class="dv">30</span> <span class="fl">1.75</span></span>
<span id="cb14-4"><a href="importação-e-manipulação-de-dados.html#cb14-4" tabindex="-1"></a>Carlos <span class="dv">22</span> <span class="fl">1.80</span></span></code></pre></div>
<ol style="list-style-type: lower-alpha">
<li>Importe esse arquivo usando <code>read.table()</code>, definindo corretamente os argumentos.</li>
<li>Verifique se o dataset foi carregado corretamente printando seus valores e verificando a sua estrutura.</li>
</ol>
<p><strong>3.</strong> Crie um arquivo chamado “dados.csv” com o seguinte conteúdo:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="importação-e-manipulação-de-dados.html#cb15-1" tabindex="-1"></a>Nome,Idade,Altura</span>
<span id="cb15-2"><a href="importação-e-manipulação-de-dados.html#cb15-2" tabindex="-1"></a>Ana,<span class="dv">25</span>,<span class="fl">1.68</span></span>
<span id="cb15-3"><a href="importação-e-manipulação-de-dados.html#cb15-3" tabindex="-1"></a>João,<span class="dv">30</span>,<span class="fl">1.75</span></span>
<span id="cb15-4"><a href="importação-e-manipulação-de-dados.html#cb15-4" tabindex="-1"></a>Carlos,<span class="dv">22</span>,<span class="fl">1.80</span></span>
<span id="cb15-5"><a href="importação-e-manipulação-de-dados.html#cb15-5" tabindex="-1"></a>Maria,<span class="dv">35</span>,<span class="fl">1.60</span></span>
<span id="cb15-6"><a href="importação-e-manipulação-de-dados.html#cb15-6" tabindex="-1"></a>Bia,<span class="dv">24</span>,<span class="fl">1.65</span></span>
<span id="cb15-7"><a href="importação-e-manipulação-de-dados.html#cb15-7" tabindex="-1"></a>Joana,<span class="dv">26</span>,<span class="fl">1.72</span></span></code></pre></div>
<ol style="list-style-type: lower-alpha">
<li>Carregue esse arquivo no R usando <code>read.csv()</code>.</li>
<li>Exiba as primeiras 4 linhas do dataset.</li>
<li>Renomeie as colunas dos dados para “nome”, “idade” e “alt”.</li>
</ol>
<p><strong>4.</strong> Use o dataset “mtcars” e com a função <code>write.table()</code>, exporte apenas os primeiros 10 registros dos dados em um arquivo chamado “mtcars.txt”. Centifique-se de que a primeira linha contenha os nomes das colunas, que ele não atribua nomes para as linhas e que os valores sejam separados por “;”.</p>
</div>
</div>
<div id="protectedContent1" style="display:none;">
<div id="respostas-14" class="section level3 unnumbered hasAnchor">
<h3>Respostas<a href="importação-e-manipulação-de-dados.html#respostas-14" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="importação-e-manipulação-de-dados.html#cb16-1" tabindex="-1"></a><span class="co"># 1.</span></span>
<span id="cb16-2"><a href="importação-e-manipulação-de-dados.html#cb16-2" tabindex="-1"></a><span class="co"># a.</span></span>
<span id="cb16-3"><a href="importação-e-manipulação-de-dados.html#cb16-3" tabindex="-1"></a><span class="fu">data</span>(<span class="at">package =</span> <span class="st">&quot;datasets&quot;</span>)</span>
<span id="cb16-4"><a href="importação-e-manipulação-de-dados.html#cb16-4" tabindex="-1"></a><span class="co"># b.</span></span>
<span id="cb16-5"><a href="importação-e-manipulação-de-dados.html#cb16-5" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb16-6"><a href="importação-e-manipulação-de-dados.html#cb16-6" tabindex="-1"></a><span class="fu">head</span>(mtcars)</span>
<span id="cb16-7"><a href="importação-e-manipulação-de-dados.html#cb16-7" tabindex="-1"></a><span class="co"># c.</span></span>
<span id="cb16-8"><a href="importação-e-manipulação-de-dados.html#cb16-8" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb16-9"><a href="importação-e-manipulação-de-dados.html#cb16-9" tabindex="-1"></a><span class="fu">str</span>(iris)</span>
<span id="cb16-10"><a href="importação-e-manipulação-de-dados.html#cb16-10" tabindex="-1"></a><span class="co"># d.</span></span>
<span id="cb16-11"><a href="importação-e-manipulação-de-dados.html#cb16-11" tabindex="-1"></a><span class="fu">names</span>(mtcars)</span>
<span id="cb16-12"><a href="importação-e-manipulação-de-dados.html#cb16-12" tabindex="-1"></a><span class="fu">names</span>(iris)</span>
<span id="cb16-13"><a href="importação-e-manipulação-de-dados.html#cb16-13" tabindex="-1"></a><span class="co"># e.</span></span>
<span id="cb16-14"><a href="importação-e-manipulação-de-dados.html#cb16-14" tabindex="-1"></a><span class="fu">nrow</span>(mtcars); <span class="fu">ncol</span>(mtcars)</span>
<span id="cb16-15"><a href="importação-e-manipulação-de-dados.html#cb16-15" tabindex="-1"></a><span class="fu">nrow</span>(iris); <span class="fu">ncol</span>(iris)</span>
<span id="cb16-16"><a href="importação-e-manipulação-de-dados.html#cb16-16" tabindex="-1"></a><span class="co"># 2.</span></span>
<span id="cb16-17"><a href="importação-e-manipulação-de-dados.html#cb16-17" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;/home/angelica/Dropbox/UTFPR/Ensino/Estatistica Computacional com o R/</span></span>
<span id="cb16-18"><a href="importação-e-manipulação-de-dados.html#cb16-18" tabindex="-1"></a><span class="st">Capitulo 3 - Importacao&quot;</span>)</span>
<span id="cb16-19"><a href="importação-e-manipulação-de-dados.html#cb16-19" tabindex="-1"></a><span class="co"># a.</span></span>
<span id="cb16-20"><a href="importação-e-manipulação-de-dados.html#cb16-20" tabindex="-1"></a>dados_txt <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;dados.txt&quot;</span>, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>, <span class="at">header =</span> T)</span>
<span id="cb16-21"><a href="importação-e-manipulação-de-dados.html#cb16-21" tabindex="-1"></a><span class="co"># b.</span></span>
<span id="cb16-22"><a href="importação-e-manipulação-de-dados.html#cb16-22" tabindex="-1"></a><span class="fu">str</span>(dados_txt)</span>
<span id="cb16-23"><a href="importação-e-manipulação-de-dados.html#cb16-23" tabindex="-1"></a><span class="co"># 3.</span></span>
<span id="cb16-24"><a href="importação-e-manipulação-de-dados.html#cb16-24" tabindex="-1"></a><span class="co"># a.</span></span>
<span id="cb16-25"><a href="importação-e-manipulação-de-dados.html#cb16-25" tabindex="-1"></a>dados_csv <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;dados.csv&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="at">header =</span> T)</span>
<span id="cb16-26"><a href="importação-e-manipulação-de-dados.html#cb16-26" tabindex="-1"></a><span class="fu">str</span>(dados_csv)</span>
<span id="cb16-27"><a href="importação-e-manipulação-de-dados.html#cb16-27" tabindex="-1"></a><span class="co"># b.</span></span>
<span id="cb16-28"><a href="importação-e-manipulação-de-dados.html#cb16-28" tabindex="-1"></a><span class="fu">head</span>(dados_csv, <span class="dv">4</span>)</span>
<span id="cb16-29"><a href="importação-e-manipulação-de-dados.html#cb16-29" tabindex="-1"></a><span class="co"># c.</span></span>
<span id="cb16-30"><a href="importação-e-manipulação-de-dados.html#cb16-30" tabindex="-1"></a><span class="fu">names</span>(dados_csv) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;nome&quot;</span>, <span class="st">&quot;idade&quot;</span>, <span class="st">&quot;alt&quot;</span>)</span>
<span id="cb16-31"><a href="importação-e-manipulação-de-dados.html#cb16-31" tabindex="-1"></a><span class="co"># 4.</span></span>
<span id="cb16-32"><a href="importação-e-manipulação-de-dados.html#cb16-32" tabindex="-1"></a><span class="fu">write.table</span>(<span class="fu">head</span>(mtcars, <span class="dv">10</span>), <span class="st">&quot;mtcars.txt&quot;</span>,</span>
<span id="cb16-33"><a href="importação-e-manipulação-de-dados.html#cb16-33" tabindex="-1"></a>            <span class="at">row.names =</span> F, <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>)</span></code></pre></div>
</div>
</div>
<p><input type="password" id="passwordInput1" placeholder="Digite a senha">
<button id="submitButton1">Acesso Professor</button></p>
<script>

document.getElementById("submitButton1").addEventListener("click", function()
{
  var password = document.getElementById("passwordInput1").value;
  var correctPassword = "0987";

  if (password === correctPassword)
  {
    document.getElementById("protectedContent1").style.display = "block";
  }else
  {
    alert("Senha incorreta! Tente novamente.");
  }
});
</script>
<div id="usando-funções-do-pacote-readr" class="section level3 hasAnchor" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Usando funções do pacote readr<a href="importação-e-manipulação-de-dados.html#usando-funções-do-pacote-readr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Esse pacote possibilita ler dados de forma mais eficiente. Transforma os dados em “tibbles” um tipo de estrutura de dados mais “amigável”.</p>
<p>O <code>readr</code> transforma arquivos de textos em tibbles usando as funções:</p>
<ul>
<li>read_csv(): arquivos separados por vírgula.</li>
<li>read_tsv(): arquivos separados por tabulação.</li>
<li>read_delim(): arquivos separados por um delimitador genérico.
O argumento <code>delim=</code> indica qual caractere separa cada coluna no arquivo de texto.</li>
<li>read_table(): arquivos de texto tabular com colunas separadas por espaço.</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="importação-e-manipulação-de-dados.html#cb17-1" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb17-2"><a href="importação-e-manipulação-de-dados.html#cb17-2" tabindex="-1"></a>dados_readr_delim <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;dados_adler.txt&quot;</span>, <span class="at">col_names =</span> T, </span>
<span id="cb17-3"><a href="importação-e-manipulação-de-dados.html#cb17-3" tabindex="-1"></a>                                <span class="at">delim =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb17-4"><a href="importação-e-manipulação-de-dados.html#cb17-4" tabindex="-1"></a><span class="co"># delim = &quot;\t&quot; para arquivo separação por tabulação</span></span>
<span id="cb17-5"><a href="importação-e-manipulação-de-dados.html#cb17-5" tabindex="-1"></a>dados_readr_csv <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;dados_adler.csv&quot;</span>, <span class="at">col_names =</span> T)</span></code></pre></div>
</div>
<div id="usando-funções-do-pacote-readxl" class="section level3 hasAnchor" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> Usando funções do pacote readxl<a href="importação-e-manipulação-de-dados.html#usando-funções-do-pacote-readxl" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Para ler planilhas do Excel (arquivos .xlsx ou .xls), basta utilizarmos a função <code>read_excel()</code> do pacote <code>readxl</code></p>
<p><strong>Exemplo:</strong> Fazer o download dos dados disponíveis no link:
<a href="https://github.com/curso-r/livro-material/raw/master/assets/data/imdb.zip" class="uri">https://github.com/curso-r/livro-material/raw/master/assets/data/imdb.zip</a></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="importação-e-manipulação-de-dados.html#cb18-1" tabindex="-1"></a><span class="co"># install.packages(&quot;readxl&quot;)</span></span>
<span id="cb18-2"><a href="importação-e-manipulação-de-dados.html#cb18-2" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb18-3"><a href="importação-e-manipulação-de-dados.html#cb18-3" tabindex="-1"></a>imdb <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;imdb/imdb.xlsx&quot;</span>, <span class="at">sheet =</span> <span class="dv">1</span>)</span>
<span id="cb18-4"><a href="importação-e-manipulação-de-dados.html#cb18-4" tabindex="-1"></a><span class="fu">View</span>(imdb)</span>
<span id="cb18-5"><a href="importação-e-manipulação-de-dados.html#cb18-5" tabindex="-1"></a><span class="fu">excel_sheets</span>(<span class="st">&quot;imdb/imdb.xlsx&quot;</span>) <span class="co"># planilhas dos dados imdb</span></span>
<span id="cb18-6"><a href="importação-e-manipulação-de-dados.html#cb18-6" tabindex="-1"></a><span class="fu">colnames</span>(imdb)</span></code></pre></div>
<div id="exercícios-11" class="section level4 unnumbered hasAnchor">
<h4>Exercícios<a href="importação-e-manipulação-de-dados.html#exercícios-11" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Para os exercícios a seguir, baixe os arquivos de dados no link abaixo e salve-os em alguma pasta do seu computador.</p>
<p><a href="data/exercicios_importacao_r.zip">📥 Baixar arquivos de dados (.zip)</a></p>
<p><strong>1.</strong> Usando funções do pacote <code>readr</code>, importe os arquivos:</p>
<ol style="list-style-type: lower-alpha">
<li><code>alunos.csv</code>.</li>
<li><code>vendas.csv</code>.</li>
<li><code>dados.txt</code>.</li>
<li><code>tabela.tsv</code>.</li>
</ol>
<p><strong>2.</strong> Usando funções do pacote <code>readxl</code>:</p>
<ol style="list-style-type: lower-alpha">
<li>Importe a planilha 1 do arquivo <code>notas.xlsx</code>.</li>
<li>Importe a planilha 2025 do arquivo <code>financeiro.xlsx</code>.</li>
<li>Importe o intervalo B2:D10 do arquivo <code>relatorio.xlsx</code>.</li>
<li>Liste os nomes das planilhas do arquivo <code>multiaba.xlsx</code>.</li>
</ol>
<p><strong>3.</strong> Para cada conjunto de dados anterior, print o seu número de linhas, de colunas e os nomes das variáveis.</p>
</div>
</div>
<div id="protectedContent2" style="display:none;">
<div id="respostas-15" class="section level3 unnumbered hasAnchor">
<h3>Respostas<a href="importação-e-manipulação-de-dados.html#respostas-15" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="importação-e-manipulação-de-dados.html#cb19-1" tabindex="-1"></a><span class="co"># 1.</span></span>
<span id="cb19-2"><a href="importação-e-manipulação-de-dados.html#cb19-2" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb19-3"><a href="importação-e-manipulação-de-dados.html#cb19-3" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;/home/angelica/Dropbox/UTFPR/Ensino/Estatistica Computacional com o R/</span></span>
<span id="cb19-4"><a href="importação-e-manipulação-de-dados.html#cb19-4" tabindex="-1"></a><span class="st">ApostilaR/data&quot;</span>)</span>
<span id="cb19-5"><a href="importação-e-manipulação-de-dados.html#cb19-5" tabindex="-1"></a>df_alunos <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;exercicios_importacao_r/alunos.csv&quot;</span>)</span>
<span id="cb19-6"><a href="importação-e-manipulação-de-dados.html#cb19-6" tabindex="-1"></a>df_vendas <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="st">&quot;exercicios_importacao_r/vendas.csv&quot;</span>)</span>
<span id="cb19-7"><a href="importação-e-manipulação-de-dados.html#cb19-7" tabindex="-1"></a>df_pipe <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;exercicios_importacao_r/dados.txt&quot;</span>, <span class="at">delim =</span> <span class="st">&quot;|&quot;</span>)</span>
<span id="cb19-8"><a href="importação-e-manipulação-de-dados.html#cb19-8" tabindex="-1"></a>df_tsv <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;exercicios_importacao_r/tabela.tsv&quot;</span>)</span>
<span id="cb19-9"><a href="importação-e-manipulação-de-dados.html#cb19-9" tabindex="-1"></a><span class="co"># 2.</span></span>
<span id="cb19-10"><a href="importação-e-manipulação-de-dados.html#cb19-10" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb19-11"><a href="importação-e-manipulação-de-dados.html#cb19-11" tabindex="-1"></a>df_notas <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;exercicios_importacao_r/notas.xlsx&quot;</span>)</span>
<span id="cb19-12"><a href="importação-e-manipulação-de-dados.html#cb19-12" tabindex="-1"></a>df_financeiro <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;exercicios_importacao_r/financeiro.xlsx&quot;</span>, </span>
<span id="cb19-13"><a href="importação-e-manipulação-de-dados.html#cb19-13" tabindex="-1"></a><span class="at">sheet =</span> <span class="st">&quot;2025&quot;</span>)</span>
<span id="cb19-14"><a href="importação-e-manipulação-de-dados.html#cb19-14" tabindex="-1"></a>df_relatorio <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;exercicios_importacao_r/relatorio.xlsx&quot;</span>, </span>
<span id="cb19-15"><a href="importação-e-manipulação-de-dados.html#cb19-15" tabindex="-1"></a><span class="at">range =</span> <span class="st">&quot;B2:D10&quot;</span>)</span>
<span id="cb19-16"><a href="importação-e-manipulação-de-dados.html#cb19-16" tabindex="-1"></a>abas <span class="ot">&lt;-</span> <span class="fu">excel_sheets</span>(<span class="st">&quot;exercicios_importacao_r/multiaba.xlsx&quot;</span>)</span></code></pre></div>
</div>
</div>
<p><input type="password" id="passwordInput2" placeholder="Digite a senha">
<button id="submitButton2">Acesso Professor</button></p>
<script>

document.getElementById("submitButton2").addEventListener("click", function()
{
  var password = document.getElementById("passwordInput2").value;
  var correctPassword = "0987";

  if (password === correctPassword)
  {
    document.getElementById("protectedContent2").style.display = "block";
  }else
  {
    alert("Senha incorreta! Tente novamente.");
  }
});
</script>
<hr />
</div>
<div id="manipulação-de-dados" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Manipulação de Dados<a href="importação-e-manipulação-de-dados.html#manipulação-de-dados" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A manipulação de dados consiste na transformação de dados de uma base “crua” para uma base que se possa trabalhar e extrair informações. Alguns pacotes úteis no R para esta finalidade são os pacotes <code>dplyr</code> e <code>tidyr</code>. Eles utilizam como inputs dados no formato de <code>tibbles</code>.</p>
<div id="tibbles" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Tibbles<a href="importação-e-manipulação-de-dados.html#tibbles" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Tibbles são estruturas de dados mais “amigáveis”.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="importação-e-manipulação-de-dados.html#cb20-1" tabindex="-1"></a><span class="co"># Para instalar e carregar</span></span>
<span id="cb20-2"><a href="importação-e-manipulação-de-dados.html#cb20-2" tabindex="-1"></a><span class="co"># install.packages(&quot;tibble&quot;)</span></span>
<span id="cb20-3"><a href="importação-e-manipulação-de-dados.html#cb20-3" tabindex="-1"></a><span class="fu">library</span>(tibble)</span></code></pre></div>
<p>Para criar um tibble com a função <code>as_tibble</code>:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="importação-e-manipulação-de-dados.html#cb21-1" tabindex="-1"></a><span class="fu">as_tibble</span>(mtcars)</span></code></pre></div>
<pre><code>## # A tibble: 32 × 11
##      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
##  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
##  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
##  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
##  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
##  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
##  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
##  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
##  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
## 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
## # ℹ 22 more rows</code></pre>
<p>Ele mostra apenas as primeiras linhas e oculta as colunas que não cabem na largura da tela.</p>
<p>Para criar um tibble com a função <code>tibble()</code>:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="importação-e-manipulação-de-dados.html#cb23-1" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb23-2"><a href="importação-e-manipulação-de-dados.html#cb23-2" tabindex="-1"></a>  <span class="at">coluna1 =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>),</span>
<span id="cb23-3"><a href="importação-e-manipulação-de-dados.html#cb23-3" tabindex="-1"></a>  <span class="at">coluna2 =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,</span>
<span id="cb23-4"><a href="importação-e-manipulação-de-dados.html#cb23-4" tabindex="-1"></a>  <span class="at">coluna3 =</span> coluna2 <span class="sc">^</span> <span class="dv">2</span>,</span>
<span id="cb23-5"><a href="importação-e-manipulação-de-dados.html#cb23-5" tabindex="-1"></a>  <span class="at">coluna4 =</span> <span class="dv">0</span></span>
<span id="cb23-6"><a href="importação-e-manipulação-de-dados.html#cb23-6" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 4 × 4
##   coluna1 coluna2 coluna3 coluna4
##   &lt;chr&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1 a             1       1       0
## 2 b             2       4       0
## 3 c             3       9       0
## 4 d             4      16       0</code></pre>
<p>Podemos observar que:</p>
<ul>
<li>Uma coluna pode ser criada a partir de outras;</li>
<li>Valores únicos são reciclados para todas as linhas dos dados.</li>
</ul>
<p>o pacote <code>tibble</code> possui também algumas funções úteis:</p>
<ul>
<li><code>add_row()</code>: para adicionar linhas a uma tibble;</li>
<li><code>add_column()</code>: para adicionar colunas a uma tibble;</li>
</ul>
<p><strong>Exemplo:</strong></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="importação-e-manipulação-de-dados.html#cb25-1" tabindex="-1"></a>mtcars_tibble <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(mtcars[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,<span class="fu">c</span>(<span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;cyl&quot;</span>)])</span>
<span id="cb25-2"><a href="importação-e-manipulação-de-dados.html#cb25-2" tabindex="-1"></a></span>
<span id="cb25-3"><a href="importação-e-manipulação-de-dados.html#cb25-3" tabindex="-1"></a><span class="fu">add_row</span>(mtcars_tibble, <span class="at">mpg =</span> <span class="dv">2</span>, <span class="at">cyl =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##     mpg   cyl
##   &lt;dbl&gt; &lt;dbl&gt;
## 1  21       6
## 2  21       6
## 3  22.8     4
## 4  21.4     6
## 5  18.7     8
## 6   2       3</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="importação-e-manipulação-de-dados.html#cb27-1" tabindex="-1"></a><span class="fu">add_column</span>(mtcars_tibble, <span class="at">mpg2 =</span> mtcars_tibble<span class="sc">$</span>mpg<span class="sc">^</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##     mpg   cyl  mpg2
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  21       6  441 
## 2  21       6  441 
## 3  22.8     4  520.
## 4  21.4     6  458.
## 5  18.7     8  350.</code></pre>
</div>
<div id="o-operador-pipe" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> O Operador Pipe (<code>%&gt;%</code>)<a href="importação-e-manipulação-de-dados.html#o-operador-pipe" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>É uma ferramenta útil para deixar o código mais legível, encadeado e natural, especialmente quando você está aplicando várias funções uma após a outra. A ideia do operador pipe é bem simples: usar o valor resultante da expressão do lado esquerdo como primeiro argumento da função do lado direito.</p>
<p><strong>Exemplo:</strong> Vamos calcular a raiz quadrada da soma dos valores de 1 a 4.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="importação-e-manipulação-de-dados.html#cb29-1" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb29-2"><a href="importação-e-manipulação-de-dados.html#cb29-2" tabindex="-1"></a></span>
<span id="cb29-3"><a href="importação-e-manipulação-de-dados.html#cb29-3" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb29-4"><a href="importação-e-manipulação-de-dados.html#cb29-4" tabindex="-1"></a></span>
<span id="cb29-5"><a href="importação-e-manipulação-de-dados.html#cb29-5" tabindex="-1"></a><span class="co"># Sem o Pipe:</span></span>
<span id="cb29-6"><a href="importação-e-manipulação-de-dados.html#cb29-6" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">sum</span>(x))</span></code></pre></div>
<pre><code>## [1] 3.162278</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="importação-e-manipulação-de-dados.html#cb31-1" tabindex="-1"></a><span class="co"># Com o Pipe:</span></span>
<span id="cb31-2"><a href="importação-e-manipulação-de-dados.html#cb31-2" tabindex="-1"></a>x <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="importação-e-manipulação-de-dados.html#cb31-3" tabindex="-1"></a>  <span class="fu">sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="importação-e-manipulação-de-dados.html#cb31-4" tabindex="-1"></a>  <span class="fu">sqrt</span>()</span></code></pre></div>
<pre><code>## [1] 3.162278</code></pre>
<p><strong>Exemplo:</strong> Vamos transpor uma matriz (t()) e calcular a soma de suas colunas (colSums()).</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="importação-e-manipulação-de-dados.html#cb33-1" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb33-2"><a href="importação-e-manipulação-de-dados.html#cb33-2" tabindex="-1"></a></span>
<span id="cb33-3"><a href="importação-e-manipulação-de-dados.html#cb33-3" tabindex="-1"></a><span class="co"># Sem o Pipe:</span></span>
<span id="cb33-4"><a href="importação-e-manipulação-de-dados.html#cb33-4" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">t</span>(mat))</span></code></pre></div>
<pre><code>## [1]  6 15 24</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="importação-e-manipulação-de-dados.html#cb35-1" tabindex="-1"></a><span class="co"># Com o Pipe:</span></span>
<span id="cb35-2"><a href="importação-e-manipulação-de-dados.html#cb35-2" tabindex="-1"></a>mat <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="importação-e-manipulação-de-dados.html#cb35-3" tabindex="-1"></a>  <span class="fu">t</span>() <span class="sc">%&gt;%</span></span>
<span id="cb35-4"><a href="importação-e-manipulação-de-dados.html#cb35-4" tabindex="-1"></a>  <span class="fu">colSums</span>()</span></code></pre></div>
<pre><code>## [1]  6 15 24</code></pre>
<div id="exercícios-12" class="section level4 unnumbered hasAnchor">
<h4>Exercícios<a href="importação-e-manipulação-de-dados.html#exercícios-12" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Faça o que se pede com e sem o operador Pipe (%&gt;%):</p>
<ol style="list-style-type: lower-alpha">
<li>Crie um vetor de 5 números, multiplique cada elemento por 3 e calcule a sua média.</li>
<li>Crie um vetor de 10 números, tire o seu valor absoluto e arredonde-o para 1 casa decimal.</li>
<li>Crie uma matriz 4x2 com números de 1 a 8, aplique a soma às linhas da matriz e eleve esses valores ao quadrado.</li>
<li>Crie uma matriz 2x4 com os números de 1 a 8, multiplique por 2 e calcule a média de cada coluna.</li>
</ol>
</div>
</div>
<div id="protectedContent3" style="display:none;">
<div id="respostas-16" class="section level3 unnumbered hasAnchor">
<h3>Respostas<a href="importação-e-manipulação-de-dados.html#respostas-16" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="importação-e-manipulação-de-dados.html#cb37-1" tabindex="-1"></a><span class="co"># a.</span></span>
<span id="cb37-2"><a href="importação-e-manipulação-de-dados.html#cb37-2" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="importação-e-manipulação-de-dados.html#cb37-3" tabindex="-1"></a>  <span class="st">`</span><span class="at">*</span><span class="st">`</span>(<span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-4"><a href="importação-e-manipulação-de-dados.html#cb37-4" tabindex="-1"></a>  <span class="fu">mean</span>()</span>
<span id="cb37-5"><a href="importação-e-manipulação-de-dados.html#cb37-5" tabindex="-1"></a><span class="co"># b.</span></span>
<span id="cb37-6"><a href="importação-e-manipulação-de-dados.html#cb37-6" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-7"><a href="importação-e-manipulação-de-dados.html#cb37-7" tabindex="-1"></a>  <span class="fu">abs</span>() <span class="sc">%&gt;%</span></span>
<span id="cb37-8"><a href="importação-e-manipulação-de-dados.html#cb37-8" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">1</span>)</span>
<span id="cb37-9"><a href="importação-e-manipulação-de-dados.html#cb37-9" tabindex="-1"></a><span class="co"># c.</span></span>
<span id="cb37-10"><a href="importação-e-manipulação-de-dados.html#cb37-10" tabindex="-1"></a>mat2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">nrow =</span> <span class="dv">4</span>)</span>
<span id="cb37-11"><a href="importação-e-manipulação-de-dados.html#cb37-11" tabindex="-1"></a>mat2 <span class="sc">%&gt;%</span></span>
<span id="cb37-12"><a href="importação-e-manipulação-de-dados.html#cb37-12" tabindex="-1"></a>  <span class="fu">apply</span>(<span class="dv">1</span>, sum) <span class="sc">%&gt;%</span></span>
<span id="cb37-13"><a href="importação-e-manipulação-de-dados.html#cb37-13" tabindex="-1"></a>  <span class="st">`</span><span class="at">^</span><span class="st">`</span>(<span class="dv">2</span>)</span>
<span id="cb37-14"><a href="importação-e-manipulação-de-dados.html#cb37-14" tabindex="-1"></a><span class="co"># d.</span></span>
<span id="cb37-15"><a href="importação-e-manipulação-de-dados.html#cb37-15" tabindex="-1"></a><span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-16"><a href="importação-e-manipulação-de-dados.html#cb37-16" tabindex="-1"></a>  <span class="st">`</span><span class="at">*</span><span class="st">`</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-17"><a href="importação-e-manipulação-de-dados.html#cb37-17" tabindex="-1"></a><span class="fu">colMeans</span>()</span></code></pre></div>
</div>
</div>
<p><input type="password" id="passwordInput3" placeholder="Digite a senha">
<button id="submitButton3">Acesso Professor</button></p>
<script>

document.getElementById("submitButton3").addEventListener("click", function()
{
  var password = document.getElementById("passwordInput3").value;
  var correctPassword = "0987";

  if (password === correctPassword)
  {
    document.getElementById("protectedContent3").style.display = "block";
  }else
  {
    alert("Senha incorreta! Tente novamente.");
  }
});
</script>
<div id="o-pacote-dplyr" class="section level3 hasAnchor" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> O pacote dplyr<a href="importação-e-manipulação-de-dados.html#o-pacote-dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Permite a manipulação de dados de forma clara e eficiente. Algumas de suas principais funções, são:</p>
<ul>
<li><code>select()</code>: seleciona colunas</li>
<li><code>arrange()</code>: ordena a base</li>
<li><code>filter()</code>: filtra linhas</li>
<li><code>mutate()</code>: cria ou modifica colunas</li>
<li><code>summarise()</code>: resume variáveis</li>
<li><code>group_by()</code>: agrupa os dados</li>
<li><code>count()</code>: conta observações</li>
</ul>
<p>Estas funções tem as seguintes características:</p>
<ul>
<li>O input e output são estruturas tibble.</li>
<li>O tibble é colocado no primeiro argumento e o que queremos fazer nos outros argumentos.</li>
<li>O operador Pipe pode ser usado para facilitar as manipulações.</li>
</ul>
<p>Vantagens de se usar o dplyr:</p>
<ul>
<li>A manipulação de dados fica mais simples.</li>
<li>O código fica mais intuitivo.</li>
<li>É possível trabalhar com diferentes fontes de dados.</li>
</ul>
<p>Primeiramente instalar e carregar o pacote:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="importação-e-manipulação-de-dados.html#cb38-1" tabindex="-1"></a><span class="co"># install.packages(&quot;dplyr&quot;)</span></span>
<span id="cb38-2"><a href="importação-e-manipulação-de-dados.html#cb38-2" tabindex="-1"></a><span class="co"># library(dplyr)</span></span></code></pre></div>
<p><strong>Exemplos:</strong> Para ilustrar o pacote <code>dplyr</code>, vamos usar os dados do imdb, disponíveis no link: <a href="https://github.com/curso-r/livro-material/raw/master/assets/data/imdb.zip" class="uri">https://github.com/curso-r/livro-material/raw/master/assets/data/imdb.zip</a></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="importação-e-manipulação-de-dados.html#cb39-1" tabindex="-1"></a><span class="co"># library(readr)</span></span>
<span id="cb39-2"><a href="importação-e-manipulação-de-dados.html#cb39-2" tabindex="-1"></a>data_imdb <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/imdb/imdb.csv&quot;</span>,</span>
<span id="cb39-3"><a href="importação-e-manipulação-de-dados.html#cb39-3" tabindex="-1"></a>                      <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb39-4"><a href="importação-e-manipulação-de-dados.html#cb39-4" tabindex="-1"></a><span class="fu">head</span>(data_imdb)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 20
##   id_filme  titulo    ano data_lancamento generos duracao pais  idioma orcamento
##   &lt;chr&gt;     &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;
## 1 tt0092699 Broadc…  1987 1988-04-01      Comedy…     133 USA   Engli…  20000000
## 2 tt0037931 Murder…  1945 1945-06-23      Comedy…      91 USA   Engli…        NA
## 3 tt0183505 Me, My…  2000 2000-09-08      Comedy      116 USA   Engli…  51000000
## 4 tt0033945 Never …  1941 1947-05-02      Comedy…      71 USA   Engli…        NA
## 5 tt0372122 Adam &amp;…  2005 2007-05-17      Comedy…      99 USA   Engli…        NA
## 6 tt3703836 Henry …  2015 2016-01-08      Drama        87 USA   Engli…        NA
## # ℹ 11 more variables: receita &lt;dbl&gt;, receita_eua &lt;dbl&gt;, nota_imdb &lt;dbl&gt;,
## #   num_avaliacoes &lt;dbl&gt;, direcao &lt;chr&gt;, roteiro &lt;chr&gt;, producao &lt;chr&gt;,
## #   elenco &lt;chr&gt;, descricao &lt;chr&gt;, num_criticas_publico &lt;dbl&gt;,
## #   num_criticas_critica &lt;dbl&gt;</code></pre>
<div id="função-select-seleciona-colunas" class="section level4 unnumbered hasAnchor">
<h4>Função <code>select</code> (seleciona colunas)<a href="importação-e-manipulação-de-dados.html#função-select-seleciona-colunas" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="importação-e-manipulação-de-dados.html#cb41-1" tabindex="-1"></a><span class="do">## Selecionando a coluna título:</span></span>
<span id="cb41-2"><a href="importação-e-manipulação-de-dados.html#cb41-2" tabindex="-1"></a><span class="co"># Sem o operador Pipe:</span></span>
<span id="cb41-3"><a href="importação-e-manipulação-de-dados.html#cb41-3" tabindex="-1"></a><span class="fu">select</span>(data_imdb, titulo)</span></code></pre></div>
<pre><code>## # A tibble: 11,340 × 1
##    titulo                           
##    &lt;chr&gt;                            
##  1 Broadcast News                   
##  2 Murder, He Says                  
##  3 Me, Myself &amp; Irene               
##  4 Never Give a Sucker an Even Break
##  5 Adam &amp; Steve                     
##  6 Henry Gamble&#39;s Birthday Party    
##  7 No Way Out                       
##  8 Welcome Home, Roscoe Jenkins     
##  9 Some Kind of Wonderful           
## 10 The Family That Preys            
## # ℹ 11,330 more rows</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="importação-e-manipulação-de-dados.html#cb43-1" tabindex="-1"></a><span class="co"># Com o operador Pipe:</span></span>
<span id="cb43-2"><a href="importação-e-manipulação-de-dados.html#cb43-2" tabindex="-1"></a>data_imdb <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="importação-e-manipulação-de-dados.html#cb43-3" tabindex="-1"></a>  <span class="fu">select</span>(titulo)</span></code></pre></div>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="importação-e-manipulação-de-dados.html#cb44-1" tabindex="-1"></a><span class="do">## Selecionando as colunas título, ano e orcamento:</span></span>
<span id="cb44-2"><a href="importação-e-manipulação-de-dados.html#cb44-2" tabindex="-1"></a><span class="co"># Sem o operador Pipe:</span></span>
<span id="cb44-3"><a href="importação-e-manipulação-de-dados.html#cb44-3" tabindex="-1"></a><span class="fu">select</span>(data_imdb, titulo, ano, orcamento)</span></code></pre></div>
<pre><code>## # A tibble: 11,340 × 3
##    titulo                              ano orcamento
##    &lt;chr&gt;                             &lt;dbl&gt;     &lt;dbl&gt;
##  1 Broadcast News                     1987  20000000
##  2 Murder, He Says                    1945        NA
##  3 Me, Myself &amp; Irene                 2000  51000000
##  4 Never Give a Sucker an Even Break  1941        NA
##  5 Adam &amp; Steve                       2005        NA
##  6 Henry Gamble&#39;s Birthday Party      2015        NA
##  7 No Way Out                         1987  15000000
##  8 Welcome Home, Roscoe Jenkins       2008  35000000
##  9 Some Kind of Wonderful             1987        NA
## 10 The Family That Preys              2008        NA
## # ℹ 11,330 more rows</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="importação-e-manipulação-de-dados.html#cb46-1" tabindex="-1"></a><span class="co"># Com o operador Pipe:</span></span>
<span id="cb46-2"><a href="importação-e-manipulação-de-dados.html#cb46-2" tabindex="-1"></a>data_imdb <span class="sc">%&gt;%</span></span>
<span id="cb46-3"><a href="importação-e-manipulação-de-dados.html#cb46-3" tabindex="-1"></a>  <span class="fu">select</span>(titulo, ano, orcamento)</span></code></pre></div>
<p>Selecionando uma sequencia de colunas dos dados</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="importação-e-manipulação-de-dados.html#cb47-1" tabindex="-1"></a><span class="fu">select</span>(data_imdb, titulo<span class="sc">:</span>generos)</span></code></pre></div>
<pre><code>## # A tibble: 11,340 × 4
##    titulo                              ano data_lancamento generos              
##    &lt;chr&gt;                             &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;                
##  1 Broadcast News                     1987 1988-04-01      Comedy, Drama, Roman…
##  2 Murder, He Says                    1945 1945-06-23      Comedy, Crime, Myste…
##  3 Me, Myself &amp; Irene                 2000 2000-09-08      Comedy               
##  4 Never Give a Sucker an Even Break  1941 1947-05-02      Comedy, Musical      
##  5 Adam &amp; Steve                       2005 2007-05-17      Comedy, Drama, Music 
##  6 Henry Gamble&#39;s Birthday Party      2015 2016-01-08      Drama                
##  7 No Way Out                         1987 1987-12-11      Action, Crime, Drama 
##  8 Welcome Home, Roscoe Jenkins       2008 2008-02-08      Comedy, Romance      
##  9 Some Kind of Wonderful             1987 1988-01-13      Drama, Romance       
## 10 The Family That Preys              2008 2008-09-12      Drama                
## # ℹ 11,330 more rows</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="importação-e-manipulação-de-dados.html#cb49-1" tabindex="-1"></a><span class="co"># ou</span></span>
<span id="cb49-2"><a href="importação-e-manipulação-de-dados.html#cb49-2" tabindex="-1"></a><span class="co"># select(data_imdb, 2:5)</span></span></code></pre></div>
<p>Funções úteis que podem ser usadas com a função <code>select()</code>:</p>
<ul>
<li><code>starts_with()</code>: colunas que começam com um texto especificado</li>
<li><code>ends_with()</code>: colunas que terminam com um texto especificado</li>
<li><code>contains()</code>: colunas que contêm um texto especificado</li>
</ul>
<p><strong>Exemplos:</strong></p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="importação-e-manipulação-de-dados.html#cb50-1" tabindex="-1"></a><span class="do">## Selecionando colunas que começam com o texto &quot;num&quot;.</span></span>
<span id="cb50-2"><a href="importação-e-manipulação-de-dados.html#cb50-2" tabindex="-1"></a><span class="fu">select</span>(data_imdb, <span class="fu">starts_with</span>(<span class="st">&quot;num&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 11,340 × 3
##    num_avaliacoes num_criticas_publico num_criticas_critica
##             &lt;dbl&gt;                &lt;dbl&gt;                &lt;dbl&gt;
##  1          26257                  142                   62
##  2           1639                   35                   10
##  3         219069                  502                  161
##  4           2108                   35                   18
##  5           2953                   48                   15
##  6           2364                   26                   14
##  7          34513                  125                   72
##  8          13315                   45                   74
##  9          27065                  145                   55
## 10           6703                   52                   29
## # ℹ 11,330 more rows</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="importação-e-manipulação-de-dados.html#cb52-1" tabindex="-1"></a><span class="do">## Selecionando colunas que terminam com o texto &quot;cao&quot;.</span></span>
<span id="cb52-2"><a href="importação-e-manipulação-de-dados.html#cb52-2" tabindex="-1"></a><span class="fu">select</span>(data_imdb, <span class="fu">ends_with</span>(<span class="st">&quot;cao&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 11,340 × 4
##    duracao direcao                        producao                     descricao
##      &lt;dbl&gt; &lt;chr&gt;                          &lt;chr&gt;                        &lt;chr&gt;    
##  1     133 James L. Brooks                Amercent Films               Take two…
##  2      91 George Marshall                Paramount Pictures           A pollst…
##  3     116 Bobby Farrelly, Peter Farrelly Twentieth Century Fox        A nice-g…
##  4      71 Edward F. Cline                Universal Pictures           A filmma…
##  5      99 Craig Chester                  Funny Boy Films              Follows …
##  6      87 Stephen Cone                   Chicago Media Project        Preacher…
##  7     114 Roger Donaldson                Orion Pictures               A coveru…
##  8     104 Malcolm D. Lee                 Universal Pictures           Dr. RJ S…
##  9      95 Howard Deutch                  Hughes Entertainment         When Kei…
## 10     111 Tyler Perry                    Louisiana Producers Film So… Two fami…
## # ℹ 11,330 more rows</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="importação-e-manipulação-de-dados.html#cb54-1" tabindex="-1"></a><span class="do">## Selecionando colunas que contém &quot;_&quot;.</span></span>
<span id="cb54-2"><a href="importação-e-manipulação-de-dados.html#cb54-2" tabindex="-1"></a><span class="fu">select</span>(data_imdb, <span class="fu">contains</span>(<span class="st">&quot;_&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 11,340 × 7
##    id_filme  data_lancamento receita_eua nota_imdb num_avaliacoes
##    &lt;chr&gt;     &lt;chr&gt;                 &lt;dbl&gt;     &lt;dbl&gt;          &lt;dbl&gt;
##  1 tt0092699 1988-04-01         51249404       7.2          26257
##  2 tt0037931 1945-06-23               NA       7.1           1639
##  3 tt0183505 2000-09-08         90570999       6.6         219069
##  4 tt0033945 1947-05-02               NA       7.2           2108
##  5 tt0372122 2007-05-17           309404       5.9           2953
##  6 tt3703836 2016-01-08               NA       6.1           2364
##  7 tt0093640 1987-12-11         35509515       7.1          34513
##  8 tt0494652 2008-02-08         42436517       5.5          13315
##  9 tt0094006 1988-01-13         18553948       7.1          27065
## 10 tt1142798 2008-09-12         37105289       5.7           6703
## # ℹ 11,330 more rows
## # ℹ 2 more variables: num_criticas_publico &lt;dbl&gt;, num_criticas_critica &lt;dbl&gt;</code></pre>
<p>Para remover colunas, adicionar “-” antes dos nomes:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="importação-e-manipulação-de-dados.html#cb56-1" tabindex="-1"></a><span class="fu">select</span>(data_imdb, <span class="sc">-</span><span class="fu">c</span>(ano, direcao))</span></code></pre></div>
<pre><code>## # A tibble: 11,340 × 18
##    id_filme  titulo       data_lancamento generos duracao pais  idioma orcamento
##    &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;           &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;
##  1 tt0092699 Broadcast N… 1988-04-01      Comedy…     133 USA   Engli…  20000000
##  2 tt0037931 Murder, He … 1945-06-23      Comedy…      91 USA   Engli…        NA
##  3 tt0183505 Me, Myself … 2000-09-08      Comedy      116 USA   Engli…  51000000
##  4 tt0033945 Never Give … 1947-05-02      Comedy…      71 USA   Engli…        NA
##  5 tt0372122 Adam &amp; Steve 2007-05-17      Comedy…      99 USA   Engli…        NA
##  6 tt3703836 Henry Gambl… 2016-01-08      Drama        87 USA   Engli…        NA
##  7 tt0093640 No Way Out   1987-12-11      Action…     114 USA   Engli…  15000000
##  8 tt0494652 Welcome Hom… 2008-02-08      Comedy…     104 USA   Engli…  35000000
##  9 tt0094006 Some Kind o… 1988-01-13      Drama,…      95 USA   Engli…        NA
## 10 tt1142798 The Family … 2008-09-12      Drama       111 USA   Engli…        NA
## # ℹ 11,330 more rows
## # ℹ 10 more variables: receita &lt;dbl&gt;, receita_eua &lt;dbl&gt;, nota_imdb &lt;dbl&gt;,
## #   num_avaliacoes &lt;dbl&gt;, roteiro &lt;chr&gt;, producao &lt;chr&gt;, elenco &lt;chr&gt;,
## #   descricao &lt;chr&gt;, num_criticas_publico &lt;dbl&gt;, num_criticas_critica &lt;dbl&gt;</code></pre>
</div>
<div id="função-arrange-ordena-a-base" class="section level4 unnumbered hasAnchor">
<h4>Função <code>arrange</code> (ordena a base)<a href="importação-e-manipulação-de-dados.html#função-arrange-ordena-a-base" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="importação-e-manipulação-de-dados.html#cb58-1" tabindex="-1"></a><span class="do">## Ordenando os dados (crescente) pelo orcamento</span></span>
<span id="cb58-2"><a href="importação-e-manipulação-de-dados.html#cb58-2" tabindex="-1"></a><span class="fu">arrange</span>(data_imdb, orcamento)</span></code></pre></div>
<pre><code>## # A tibble: 11,340 × 20
##    id_filme  titulo   ano data_lancamento generos duracao pais  idioma orcamento
##    &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;
##  1 tt5345298 Patie…  2016 2016-10-11      Horror      116 USA   Icela…         0
##  2 tt7692822 Driven  2019 2019-02-09      Comedy…      90 USA   Engli…         0
##  3 tt3748918 To Yo…  2019 2020-03-17      Animat…      91 USA   Engli…         1
##  4 tt8196068 Twist…  2018 2018-10-03      Drama,…      89 USA   Engli…         3
##  5 tt0772152 Amate…  2006 2006-07-30      Crime,…      71 USA   Engli…        45
##  6 tt1260680 Pathf…  2011 2011-01-11      Action…     100 USA   Engli…        50
##  7 tt1701224 My Na…  2012 2012-10-19      Crime,…      90 USA   Frenc…       300
##  8 tt0054880 Flami…  1963 1963-04-29      Comedy…      45 USA   Engli…       300
##  9 tt1980185 Memor…  2012 2014-03-10      Crime,…      70 USA   Engli…       300
## 10 tt5009236 King …  2015 2015-03-27      Biogra…      46 USA   Engli…       500
## # ℹ 11,330 more rows
## # ℹ 11 more variables: receita &lt;dbl&gt;, receita_eua &lt;dbl&gt;, nota_imdb &lt;dbl&gt;,
## #   num_avaliacoes &lt;dbl&gt;, direcao &lt;chr&gt;, roteiro &lt;chr&gt;, producao &lt;chr&gt;,
## #   elenco &lt;chr&gt;, descricao &lt;chr&gt;, num_criticas_publico &lt;dbl&gt;,
## #   num_criticas_critica &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="importação-e-manipulação-de-dados.html#cb60-1" tabindex="-1"></a><span class="co"># Ordenando os dados (decrescente) pelo orcamento</span></span>
<span id="cb60-2"><a href="importação-e-manipulação-de-dados.html#cb60-2" tabindex="-1"></a><span class="fu">arrange</span>(data_imdb, <span class="fu">desc</span>(orcamento))</span></code></pre></div>
<pre><code>## # A tibble: 11,340 × 20
##    id_filme  titulo   ano data_lancamento generos duracao pais  idioma orcamento
##    &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;
##  1 tt4154796 Aveng…  2019 2019-04-24      Action…     181 USA   Engli… 356000000
##  2 tt4154756 Aveng…  2018 2018-04-25      Action…     149 USA   Engli… 321000000
##  3 tt2527336 Star …  2017 2017-12-13      Action…     152 USA   Engli… 317000000
##  4 tt0449088 Pirat…  2007 2007-05-23      Action…     169 USA   Engli… 300000000
##  5 tt2527338 Star …  2019 2019-12-18      Action…     141 USA   Engli… 275000000
##  6 tt3778644 Solo:…  2018 2018-05-23      Action…     135 USA   Engli… 275000000
##  7 tt0348150 Super…  2006 2006-09-01      Action…     154 USA   Engli… 270000000
##  8 tt0398286 Tangl…  2010 2010-11-26      Animat…     100 USA   Engli… 260000000
##  9 tt0413300 Spide…  2007 2007-05-01      Action…     139 USA   Engli… 258000000
## 10 tt2975590 Batma…  2016 2016-03-23      Action…     152 USA   Engli… 250000000
## # ℹ 11,330 more rows
## # ℹ 11 more variables: receita &lt;dbl&gt;, receita_eua &lt;dbl&gt;, nota_imdb &lt;dbl&gt;,
## #   num_avaliacoes &lt;dbl&gt;, direcao &lt;chr&gt;, roteiro &lt;chr&gt;, producao &lt;chr&gt;,
## #   elenco &lt;chr&gt;, descricao &lt;chr&gt;, num_criticas_publico &lt;dbl&gt;,
## #   num_criticas_critica &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="importação-e-manipulação-de-dados.html#cb62-1" tabindex="-1"></a><span class="co"># Ordenando em relação a duas ou mais colunas.</span></span>
<span id="cb62-2"><a href="importação-e-manipulação-de-dados.html#cb62-2" tabindex="-1"></a><span class="fu">arrange</span>(data_imdb, <span class="fu">desc</span>(ano), <span class="fu">desc</span>(orcamento))</span></code></pre></div>
<pre><code>## # A tibble: 11,340 × 20
##    id_filme  titulo   ano data_lancamento generos duracao pais  idioma orcamento
##    &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;
##  1 tt6587640 Troll…  2020 2020-04-10      Animat…      90 USA   Engli…  90000000
##  2 tt7713068 Birds…  2020 2020-02-06      Action…     109 USA   Engli…  84500000
##  3 tt5774060 Under…  2020 2020-01-30      Action…      95 USA   Engli…  80000000
##  4 tt6820324 Timmy…  2020 2020-03-24      Advent…      99 USA   Engli…  45000000
##  5 tt1634106 Blood…  2020 2020-03-27      Action…     109 USA   Engli…  45000000
##  6 tt100595… Unhin…  2020 2020-09-24      Action…      90 USA   Engli…  33000000
##  7 tt8461224 The T…  2020 2020-08-07      Action…      95 USA   Engli…  30000000
##  8 tt103089… Force…  2020 2020-06-30      Action…      91 USA   Engli…  23000000
##  9 tt4411584 The S…  2020 2020-07-31      Drama,…     107 USA   Engli…  21000000
## 10 tt8244784 The H…  2020 2020-03-24      Action…      90 USA   Engli…  14000000
## # ℹ 11,330 more rows
## # ℹ 11 more variables: receita &lt;dbl&gt;, receita_eua &lt;dbl&gt;, nota_imdb &lt;dbl&gt;,
## #   num_avaliacoes &lt;dbl&gt;, direcao &lt;chr&gt;, roteiro &lt;chr&gt;, producao &lt;chr&gt;,
## #   elenco &lt;chr&gt;, descricao &lt;chr&gt;, num_criticas_publico &lt;dbl&gt;,
## #   num_criticas_critica &lt;dbl&gt;</code></pre>
</div>
<div id="exercícios-13" class="section level4 unnumbered hasAnchor">
<h4>Exercícios<a href="importação-e-manipulação-de-dados.html#exercícios-13" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>1.</strong> Considerando o conjunto de dados <code>mtcars</code> do pacote <code>datasets</code>, faça o que se pede usando o operador Pipe (<code>%&gt;%</code>) e as funções do pacote <code>dplyr</code>:</p>
<ol style="list-style-type: lower-alpha">
<li>Selecione todas as colunas que começam com a letra “d”.</li>
<li>Selecione todas as colunas que terminam com a letra “t”.</li>
<li>Selecione todas as colunas que contêm a letra “a” no nome.</li>
<li>Remova todas as colunas que começam com “c”.</li>
<li>Remova todas as colunas que contêm “ar”.</li>
<li>Organize os dados em ordem crescente de mpg (milhas por galão).</li>
<li>Organize os dados em ordem decrescente de hp (horsepower).</li>
<li>Organize os dados em ordem crescente por cyl (cilindros) e por mpg (milhas por galão).</li>
</ol>
<p><strong>2.</strong> Considerando o conjunto de dados <code>iris</code> do pacote <code>datasets</code>, faça o que se pede usando o operador Pipe (<code>%&gt;%</code>) e as funções do pacote <code>dplyr</code>:</p>
<ol style="list-style-type: lower-alpha">
<li>Selecione apenas as colunas que contêm “Length”.</li>
<li>Selecione todas as colunas exceto as que terminam com “Width”.</li>
<li>Organize os dados por Sepal.Length em ordem decrescente.</li>
<li>Organize os dados por Species e, dentro de cada espécie, por Petal.Width.</li>
</ol>
</div>
</div>
<div id="protectedContent4" style="display:none;">
<div id="respostas-17" class="section level3 unnumbered hasAnchor">
<h3>Respostas<a href="importação-e-manipulação-de-dados.html#respostas-17" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="importação-e-manipulação-de-dados.html#cb64-1" tabindex="-1"></a><span class="co"># 1. </span></span>
<span id="cb64-2"><a href="importação-e-manipulação-de-dados.html#cb64-2" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">&quot;d&quot;</span>))</span>
<span id="cb64-3"><a href="importação-e-manipulação-de-dados.html#cb64-3" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">&quot;t&quot;</span>))</span>
<span id="cb64-4"><a href="importação-e-manipulação-de-dados.html#cb64-4" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">&quot;a&quot;</span>))</span>
<span id="cb64-5"><a href="importação-e-manipulação-de-dados.html#cb64-5" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">&quot;c&quot;</span>))</span>
<span id="cb64-6"><a href="importação-e-manipulação-de-dados.html#cb64-6" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">contains</span>(<span class="st">&quot;ar&quot;</span>))</span>
<span id="cb64-7"><a href="importação-e-manipulação-de-dados.html#cb64-7" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(mpg)</span>
<span id="cb64-8"><a href="importação-e-manipulação-de-dados.html#cb64-8" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(hp))</span>
<span id="cb64-9"><a href="importação-e-manipulação-de-dados.html#cb64-9" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(cyl, mpg)</span>
<span id="cb64-10"><a href="importação-e-manipulação-de-dados.html#cb64-10" tabindex="-1"></a><span class="co"># 2.</span></span>
<span id="cb64-11"><a href="importação-e-manipulação-de-dados.html#cb64-11" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">&quot;Length&quot;</span>))</span>
<span id="cb64-12"><a href="importação-e-manipulação-de-dados.html#cb64-12" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">ends_with</span>(<span class="st">&quot;Width&quot;</span>))</span>
<span id="cb64-13"><a href="importação-e-manipulação-de-dados.html#cb64-13" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(Sepal.Length))</span>
<span id="cb64-14"><a href="importação-e-manipulação-de-dados.html#cb64-14" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(Species, Petal.Width)</span></code></pre></div>
</div>
</div>
<p><input type="password" id="passwordInput4" placeholder="Digite a senha">
<button id="submitButton4">Acesso Professor</button></p>
<script>

document.getElementById("submitButton4").addEventListener("click", function() 
{
  var password = document.getElementById("passwordInput4").value;
  var correctPassword = "0987";
  
  if (password === correctPassword) 
  {
    document.getElementById("protectedContent4").style.display = "block";
  }else 
  {
    alert("Senha incorreta! Tente novamente.");
  }
});
</script>
<div id="função-filter-filtra-linhas" class="section level4 unnumbered hasAnchor">
<h4>Função <code>filter</code> (filtra linhas)<a href="importação-e-manipulação-de-dados.html#função-filter-filtra-linhas" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Filtrando linhas para uma coluna:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="importação-e-manipulação-de-dados.html#cb65-1" tabindex="-1"></a><span class="co"># Notas maiores do que 9:</span></span>
<span id="cb65-2"><a href="importação-e-manipulação-de-dados.html#cb65-2" tabindex="-1"></a>data_imdb <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nota_imdb <span class="sc">&gt;</span> <span class="dv">9</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 8
##   id_filme   titulo          ano data_lancamento generos duracao pais  nota_imdb
##   &lt;chr&gt;      &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;
## 1 tt10218912 As I Am        2019 2019-12-06      Drama,…      62 USA         9.3
## 2 tt6735740  Love in Kiln…  2019 2019-06-23      Comedy      100 USA         9.3
## 3 tt0111161  The Shawshan…  1994 1995-02-10      Drama       142 USA         9.3
## 4 tt0068646  The Godfather  1972 1972-09-21      Crime,…     175 USA         9.2
## 5 tt5980638  The Transcen…  2018 2020-06-19      Music,…      96 USA         9.2</code></pre>
<p>Usando o filtro para mais de uma coluna:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="importação-e-manipulação-de-dados.html#cb67-1" tabindex="-1"></a><span class="co"># Ano maior do que 2010 e nota maior do que 8.5</span></span>
<span id="cb67-2"><a href="importação-e-manipulação-de-dados.html#cb67-2" tabindex="-1"></a>data_imdb <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ano <span class="sc">&gt;</span> <span class="dv">2010</span>, nota_imdb <span class="sc">&gt;</span> <span class="fl">8.5</span>)</span>
<span id="cb67-3"><a href="importação-e-manipulação-de-dados.html#cb67-3" tabindex="-1"></a><span class="co"># cada coluna é separada por vírgula</span></span></code></pre></div>
<pre><code>## # A tibble: 8 × 8
##   id_filme   titulo          ano data_lancamento generos duracao pais  nota_imdb
##   &lt;chr&gt;      &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;
## 1 tt10218912 As I Am        2019 2019-12-06      Drama,…      62 USA         9.3
## 2 tt8503618  Hamilton       2020 2020-07-03      Biogra…     160 USA         8.7
## 3 tt6735740  Love in Kiln…  2019 2019-06-23      Comedy      100 USA         9.3
## 4 tt10765852 Metallica &amp; …  2019 2019-10-18      Music       150 USA         8.8
## 5 tt6019206  Kill Bill: T…  2011 2011-03-27      Action…     247 USA         8.8
## 6 tt8241876  5th Borough    2020 2020-06-03      Crime        95 USA         8.6
## 7 tt2170667  Wheels         2014 2017-02-01      Drama       115 USA         8.8
## 8 tt5980638  The Transcen…  2018 2020-06-19      Music,…      96 USA         9.2</code></pre>
<p>Combinando as funções <code>select()</code> e <code>filter()</code></p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="importação-e-manipulação-de-dados.html#cb69-1" tabindex="-1"></a><span class="co"># Notas maiores do que 9 e selecionando as colunas titulo e nota_imdb</span></span>
<span id="cb69-2"><a href="importação-e-manipulação-de-dados.html#cb69-2" tabindex="-1"></a>data_imdb <span class="sc">%&gt;%</span></span>
<span id="cb69-3"><a href="importação-e-manipulação-de-dados.html#cb69-3" tabindex="-1"></a>  <span class="fu">filter</span>(nota_imdb <span class="sc">&gt;</span> <span class="dv">9</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-4"><a href="importação-e-manipulação-de-dados.html#cb69-4" tabindex="-1"></a>  <span class="fu">select</span>(titulo, nota_imdb)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##   titulo                   nota_imdb
##   &lt;chr&gt;                        &lt;dbl&gt;
## 1 As I Am                        9.3
## 2 Love in Kilnerry               9.3
## 3 The Shawshank Redemption       9.3
## 4 The Godfather                  9.2
## 5 The Transcendents              9.2</code></pre>
<p>Combinando a função <code>filter()</code> com o operador <code>%in%</code>:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="importação-e-manipulação-de-dados.html#cb71-1" tabindex="-1"></a><span class="co"># Filtrando os filmes de direção de Tarantino e Spielberg</span></span>
<span id="cb71-2"><a href="importação-e-manipulação-de-dados.html#cb71-2" tabindex="-1"></a><span class="co"># e que tenham nota maior do que 8</span></span>
<span id="cb71-3"><a href="importação-e-manipulação-de-dados.html#cb71-3" tabindex="-1"></a>data_imdb <span class="sc">%&gt;%</span></span>
<span id="cb71-4"><a href="importação-e-manipulação-de-dados.html#cb71-4" tabindex="-1"></a>  <span class="fu">filter</span>(direcao <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Quentin Tarantino&quot;</span>, <span class="st">&quot;Steven Spielberg&quot;</span>),</span>
<span id="cb71-5"><a href="importação-e-manipulação-de-dados.html#cb71-5" tabindex="-1"></a>         nota_imdb <span class="sc">&gt;</span> <span class="dv">8</span>)</span></code></pre></div>
<pre><code>## # A tibble: 9 × 7
##   id_filme  titulo                 ano data_lancamento generos direcao nota_imdb
##   &lt;chr&gt;     &lt;chr&gt;                &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;
## 1 tt0110912 Pulp Fiction          1994 1994-10-28      Crime,… Quenti…       8.9
## 2 tt0082971 Raiders of the Lost…  1981 1981-06-12      Action… Steven…       8.4
## 3 tt0097576 Indiana Jones and t…  1989 1989-10-06      Action… Steven…       8.2
## 4 tt0120815 Saving Private Ryan   1998 1998-10-30      Drama,… Steven…       8.6
## 5 tt6019206 Kill Bill: The Whol…  2011 2011-03-27      Action… Quenti…       8.8
## 6 tt0108052 Schindler&#39;s List      1993 1994-03-11      Biogra… Steven…       8.9
## 7 tt0105236 Reservoir Dogs        1992 1992-10-09      Crime,… Quenti…       8.3
## 8 tt1853728 Django Unchained      2012 2013-01-17      Drama,… Quenti…       8.4
## 9 tt0107290 Jurassic Park         1993 1993-09-17      Action… Steven…       8.1</code></pre>
<p>Para filtrar strings contidas nos valores de alguma variável carater, podemos usar a função <code>str_detect()</code> do pacote <code>stringr</code>. Esta função serve para verificar se cada string de um vetor de caracteres contém um determinado padrão de texto.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="importação-e-manipulação-de-dados.html#cb73-1" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb73-2"><a href="importação-e-manipulação-de-dados.html#cb73-2" tabindex="-1"></a><span class="co"># Para visualizar a estrutura da variável &quot;generos&quot;:</span></span>
<span id="cb73-3"><a href="importação-e-manipulação-de-dados.html#cb73-3" tabindex="-1"></a><span class="fu">str</span>(data_imdb<span class="sc">$</span>generos)</span></code></pre></div>
<pre><code>##  chr [1:11340] &quot;Comedy, Drama, Romance&quot; &quot;Comedy, Crime, Mystery&quot; &quot;Comedy&quot; ...</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="importação-e-manipulação-de-dados.html#cb75-1" tabindex="-1"></a><span class="co"># Filtrando os filmes que contém genero &quot;Drama&quot;:</span></span>
<span id="cb75-2"><a href="importação-e-manipulação-de-dados.html#cb75-2" tabindex="-1"></a><span class="fu">head</span>(</span>
<span id="cb75-3"><a href="importação-e-manipulação-de-dados.html#cb75-3" tabindex="-1"></a>  data_imdb <span class="sc">%&gt;%</span></span>
<span id="cb75-4"><a href="importação-e-manipulação-de-dados.html#cb75-4" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_detect</span>(<span class="at">string =</span> generos, <span class="at">pattern =</span> <span class="st">&quot;Drama&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb75-5"><a href="importação-e-manipulação-de-dados.html#cb75-5" tabindex="-1"></a>    <span class="fu">select</span>(titulo, generos))</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##   titulo                        generos               
##   &lt;chr&gt;                         &lt;chr&gt;                 
## 1 Broadcast News                Comedy, Drama, Romance
## 2 Adam &amp; Steve                  Comedy, Drama, Music  
## 3 Henry Gamble&#39;s Birthday Party Drama                 
## 4 No Way Out                    Action, Crime, Drama  
## 5 Some Kind of Wonderful        Drama, Romance        
## 6 The Family That Preys         Drama</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="importação-e-manipulação-de-dados.html#cb77-1" tabindex="-1"></a><span class="co"># Se não usássemos a função str_detect, ele retornaria apenas as linhas</span></span>
<span id="cb77-2"><a href="importação-e-manipulação-de-dados.html#cb77-2" tabindex="-1"></a><span class="co"># que contém exatamente a palavra &quot;Drama&quot;:</span></span>
<span id="cb77-3"><a href="importação-e-manipulação-de-dados.html#cb77-3" tabindex="-1"></a><span class="fu">head</span>(</span>
<span id="cb77-4"><a href="importação-e-manipulação-de-dados.html#cb77-4" tabindex="-1"></a>  data_imdb <span class="sc">%&gt;%</span></span>
<span id="cb77-5"><a href="importação-e-manipulação-de-dados.html#cb77-5" tabindex="-1"></a>    <span class="fu">filter</span>(generos <span class="sc">==</span> <span class="st">&quot;Drama&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb77-6"><a href="importação-e-manipulação-de-dados.html#cb77-6" tabindex="-1"></a>    <span class="fu">select</span>(titulo, generos))</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##   titulo                                                generos
##   &lt;chr&gt;                                                 &lt;chr&gt;  
## 1 Henry Gamble&#39;s Birthday Party                         Drama  
## 2 The Family That Preys                                 Drama  
## 3 Curse of the Starving Class                           Drama  
## 4 The Effect of Gamma Rays on Man-in-the-Moon Marigolds Drama  
## 5 Storm Center                                          Drama  
## 6 The Ticket                                            Drama</code></pre>
</div>
<div id="função-mutate" class="section level4 unnumbered hasAnchor">
<h4>Função <code>mutate</code><a href="importação-e-manipulação-de-dados.html#função-mutate" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Usado para modificar uma coluna existente ou criar uma nova coluna.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="importação-e-manipulação-de-dados.html#cb79-1" tabindex="-1"></a><span class="co"># Transformando a variável duracao de minutos para horas:</span></span>
<span id="cb79-2"><a href="importação-e-manipulação-de-dados.html#cb79-2" tabindex="-1"></a>data_imdb <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">duracao =</span> duracao<span class="sc">/</span><span class="dv">60</span>)</span>
<span id="cb79-3"><a href="importação-e-manipulação-de-dados.html#cb79-3" tabindex="-1"></a><span class="co"># Ou criando uma nova variável:</span></span>
<span id="cb79-4"><a href="importação-e-manipulação-de-dados.html#cb79-4" tabindex="-1"></a>data_imdb <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">duracao_horas =</span> duracao<span class="sc">/</span><span class="dv">60</span>)</span></code></pre></div>
<pre><code>## # A tibble: 11,340 × 6
##    id_filme  titulo                          ano data_lancamento generos duracao
##    &lt;chr&gt;     &lt;chr&gt;                         &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;     &lt;dbl&gt;
##  1 tt0092699 Broadcast News                 1987 1988-04-01      Comedy…    2.22
##  2 tt0037931 Murder, He Says                1945 1945-06-23      Comedy…    1.52
##  3 tt0183505 Me, Myself &amp; Irene             2000 2000-09-08      Comedy     1.93
##  4 tt0033945 Never Give a Sucker an Even …  1941 1947-05-02      Comedy…    1.18
##  5 tt0372122 Adam &amp; Steve                   2005 2007-05-17      Comedy…    1.65
##  6 tt3703836 Henry Gamble&#39;s Birthday Party  2015 2016-01-08      Drama      1.45
##  7 tt0093640 No Way Out                     1987 1987-12-11      Action…    1.9 
##  8 tt0494652 Welcome Home, Roscoe Jenkins   2008 2008-02-08      Comedy…    1.73
##  9 tt0094006 Some Kind of Wonderful         1987 1988-01-13      Drama,…    1.58
## 10 tt1142798 The Family That Preys          2008 2008-09-12      Drama      1.85
## # ℹ 11,330 more rows</code></pre>
<pre><code>## # A tibble: 11,340 × 7
##    id_filme  titulo            ano data_lancamento generos duracao duracao_horas
##    &lt;chr&gt;     &lt;chr&gt;           &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;     &lt;dbl&gt;         &lt;dbl&gt;
##  1 tt0092699 Broadcast News   1987 1988-04-01      Comedy…     133          2.22
##  2 tt0037931 Murder, He Says  1945 1945-06-23      Comedy…      91          1.52
##  3 tt0183505 Me, Myself &amp; I…  2000 2000-09-08      Comedy      116          1.93
##  4 tt0033945 Never Give a S…  1941 1947-05-02      Comedy…      71          1.18
##  5 tt0372122 Adam &amp; Steve     2005 2007-05-17      Comedy…      99          1.65
##  6 tt3703836 Henry Gamble&#39;s…  2015 2016-01-08      Drama        87          1.45
##  7 tt0093640 No Way Out       1987 1987-12-11      Action…     114          1.9 
##  8 tt0494652 Welcome Home, …  2008 2008-02-08      Comedy…     104          1.73
##  9 tt0094006 Some Kind of W…  1987 1988-01-13      Drama,…      95          1.58
## 10 tt1142798 The Family Tha…  2008 2008-09-12      Drama       111          1.85
## # ℹ 11,330 more rows</code></pre>
<p>Aplicando <code>mutate()</code> com mais colunas:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="importação-e-manipulação-de-dados.html#cb82-1" tabindex="-1"></a><span class="co"># Criando a variável lucro e modificando pais de USA para Estados Unidos</span></span>
<span id="cb82-2"><a href="importação-e-manipulação-de-dados.html#cb82-2" tabindex="-1"></a>data_imdb_lucro_pais <span class="ot">&lt;-</span> data_imdb <span class="sc">%&gt;%</span> </span>
<span id="cb82-3"><a href="importação-e-manipulação-de-dados.html#cb82-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lucro =</span> receita <span class="sc">-</span> orcamento, <span class="at">pais =</span> <span class="st">&quot;Estados Unidos&quot;</span>)</span>
<span id="cb82-4"><a href="importação-e-manipulação-de-dados.html#cb82-4" tabindex="-1"></a></span>
<span id="cb82-5"><a href="importação-e-manipulação-de-dados.html#cb82-5" tabindex="-1"></a><span class="fu">head</span>(data_imdb <span class="sc">%&gt;%</span> <span class="fu">select</span>(pais))</span></code></pre></div>
<pre><code>## # A tibble: 6 × 1
##   pais 
##   &lt;chr&gt;
## 1 USA  
## 2 USA  
## 3 USA  
## 4 USA  
## 5 USA  
## 6 USA</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="importação-e-manipulação-de-dados.html#cb84-1" tabindex="-1"></a><span class="fu">head</span>(data_imdb_lucro_pais <span class="sc">%&gt;%</span> <span class="fu">select</span>(lucro, pais))</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##      lucro pais          
##      &lt;dbl&gt; &lt;chr&gt;         
## 1 47331309 Estados Unidos
## 2       NA Estados Unidos
## 3 98270999 Estados Unidos
## 4       NA Estados Unidos
## 5       NA Estados Unidos
## 6       NA Estados Unidos</code></pre>
</div>
<div id="exercícios-14" class="section level4 unnumbered hasAnchor">
<h4>Exercícios<a href="importação-e-manipulação-de-dados.html#exercícios-14" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Nos exercicios a seguir, utilize o operador Pipe (<code>%&gt;%</code>) e as funções do pacote <code>dplyr</code>.</p>
<p><strong>1.</strong> Considerando o conjunto de dados <code>mtcars</code> do pacote <code>datasets</code>:</p>
<ol style="list-style-type: lower-alpha">
<li>Filtre os carros com mpg (milhas por galão) maior que 25.</li>
<li>Filtre os carros com hp maior que 150 e mostre apenas mpg, hp e wt.</li>
<li>Filtre os carros com cyl igual a 4 ou 8 (use %in%).</li>
<li>Crie uma nova coluna peso_relativo em mtcars que seja wt / max(wt) (peso relativo).</li>
</ol>
<p><strong>2.</strong> Considerando o conjunto de dados <code>iris</code> do pacote <code>datasets</code>:</p>
<ol style="list-style-type: lower-alpha">
<li>Filtre apenas as observações da espécie que contém “set” no nome.</li>
<li>Filtre a espécie que contém “ver” e mostre apenas colunas com “Length”.</li>
</ol>
<p><strong>3.</strong> Utilize a base imdb nos exercícios a seguir.</p>
<ol style="list-style-type: lower-alpha">
<li>Ordene os filmes em ordem crescente de ano e decrescente de receita e salve em um objeto chamado filmes_ordenados.</li>
<li>Selecione apenas as colunas titulo e orcamento e então ordene de forma decrescente pelo orcamento.</li>
<li>Crie uma coluna chamada prejuizo (orcamento - receita) e salve a nova tabela em um objeto chamado imdb_prejuizo. Em seguida, filtre apenas os filmes que deram prejuízo e ordene a tabela por ordem crescente de prejuízo.</li>
<li>Fazendo apenas uma chamada da função mutate(), crie as seguintes colunas novas na base imdb:</li>
</ol>
<ul>
<li>lucro = receita - orcamento</li>
<li>lucro_medio</li>
<li>lucro_relativo = (lucro - lucro_medio)/lucro_medio</li>
<li>houve_lucro = “sim”, se lucro &gt; 0 e “não” caso contrário</li>
</ul>
<ol start="5" style="list-style-type: lower-alpha">
<li>Crie uma nova coluna que classifique o filme em “recente” (posterior a 2000) e “antigo” (de 2000 para trás).</li>
</ol>
</div>
<div id="protectedContent5" style="display:none;">
<div id="respostas-18" class="section level3 unnumbered hasAnchor">
<h3>Respostas<a href="importação-e-manipulação-de-dados.html#respostas-18" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="importação-e-manipulação-de-dados.html#cb86-1" tabindex="-1"></a><span class="co"># 1.</span></span>
<span id="cb86-2"><a href="importação-e-manipulação-de-dados.html#cb86-2" tabindex="-1"></a><span class="co"># a.</span></span>
<span id="cb86-3"><a href="importação-e-manipulação-de-dados.html#cb86-3" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span>  <span class="fu">filter</span>(mpg <span class="sc">&gt;</span> <span class="dv">25</span>)</span>
<span id="cb86-4"><a href="importação-e-manipulação-de-dados.html#cb86-4" tabindex="-1"></a><span class="co"># b.</span></span>
<span id="cb86-5"><a href="importação-e-manipulação-de-dados.html#cb86-5" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">filter</span>(hp <span class="sc">&gt;</span> <span class="dv">150</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb86-6"><a href="importação-e-manipulação-de-dados.html#cb86-6" tabindex="-1"></a>  <span class="fu">select</span>(mpg, hp, wt)</span>
<span id="cb86-7"><a href="importação-e-manipulação-de-dados.html#cb86-7" tabindex="-1"></a><span class="co"># c.</span></span>
<span id="cb86-8"><a href="importação-e-manipulação-de-dados.html#cb86-8" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">filter</span>(cyl <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">8</span>))</span>
<span id="cb86-9"><a href="importação-e-manipulação-de-dados.html#cb86-9" tabindex="-1"></a><span class="co"># d.</span></span>
<span id="cb86-10"><a href="importação-e-manipulação-de-dados.html#cb86-10" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> </span>
<span id="cb86-11"><a href="importação-e-manipulação-de-dados.html#cb86-11" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">peso_relativo =</span> wt <span class="sc">/</span> <span class="fu">max</span>(wt))</span>
<span id="cb86-12"><a href="importação-e-manipulação-de-dados.html#cb86-12" tabindex="-1"></a><span class="co"># 2.</span></span>
<span id="cb86-13"><a href="importação-e-manipulação-de-dados.html#cb86-13" tabindex="-1"></a><span class="co"># a.</span></span>
<span id="cb86-14"><a href="importação-e-manipulação-de-dados.html#cb86-14" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> </span>
<span id="cb86-15"><a href="importação-e-manipulação-de-dados.html#cb86-15" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(Species, <span class="st">&quot;set&quot;</span>))</span>
<span id="cb86-16"><a href="importação-e-manipulação-de-dados.html#cb86-16" tabindex="-1"></a><span class="co"># b.</span></span>
<span id="cb86-17"><a href="importação-e-manipulação-de-dados.html#cb86-17" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> </span>
<span id="cb86-18"><a href="importação-e-manipulação-de-dados.html#cb86-18" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(Species, <span class="st">&quot;ver&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb86-19"><a href="importação-e-manipulação-de-dados.html#cb86-19" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">&quot;Length&quot;</span>))</span>
<span id="cb86-20"><a href="importação-e-manipulação-de-dados.html#cb86-20" tabindex="-1"></a><span class="co"># 3.</span></span>
<span id="cb86-21"><a href="importação-e-manipulação-de-dados.html#cb86-21" tabindex="-1"></a><span class="co"># a.</span></span>
<span id="cb86-22"><a href="importação-e-manipulação-de-dados.html#cb86-22" tabindex="-1"></a>filmes_ordenados <span class="ot">&lt;-</span> data_imdb <span class="sc">%&gt;%</span></span>
<span id="cb86-23"><a href="importação-e-manipulação-de-dados.html#cb86-23" tabindex="-1"></a>  <span class="fu">arrange</span>(ano, <span class="fu">desc</span>(receita))</span>
<span id="cb86-24"><a href="importação-e-manipulação-de-dados.html#cb86-24" tabindex="-1"></a><span class="co"># b. </span></span>
<span id="cb86-25"><a href="importação-e-manipulação-de-dados.html#cb86-25" tabindex="-1"></a>data_imdb <span class="sc">%&gt;%</span></span>
<span id="cb86-26"><a href="importação-e-manipulação-de-dados.html#cb86-26" tabindex="-1"></a>  <span class="fu">select</span>(titulo, orcamento) <span class="sc">%&gt;%</span></span>
<span id="cb86-27"><a href="importação-e-manipulação-de-dados.html#cb86-27" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(orcamento))</span>
<span id="cb86-28"><a href="importação-e-manipulação-de-dados.html#cb86-28" tabindex="-1"></a><span class="co"># c.</span></span>
<span id="cb86-29"><a href="importação-e-manipulação-de-dados.html#cb86-29" tabindex="-1"></a>imdb_prejuizo <span class="ot">&lt;-</span> data_imdb <span class="sc">%&gt;%</span></span>
<span id="cb86-30"><a href="importação-e-manipulação-de-dados.html#cb86-30" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prejuizo =</span> orcamento <span class="sc">-</span> receita) <span class="sc">%&gt;%</span></span>
<span id="cb86-31"><a href="importação-e-manipulação-de-dados.html#cb86-31" tabindex="-1"></a>  <span class="fu">filter</span>(prejuizo <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb86-32"><a href="importação-e-manipulação-de-dados.html#cb86-32" tabindex="-1"></a>  <span class="fu">arrange</span>(prejuizo)</span>
<span id="cb86-33"><a href="importação-e-manipulação-de-dados.html#cb86-33" tabindex="-1"></a><span class="co"># d.</span></span>
<span id="cb86-34"><a href="importação-e-manipulação-de-dados.html#cb86-34" tabindex="-1"></a>data_imdb <span class="ot">&lt;-</span> data_imdb <span class="sc">%&gt;%</span></span>
<span id="cb86-35"><a href="importação-e-manipulação-de-dados.html#cb86-35" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb86-36"><a href="importação-e-manipulação-de-dados.html#cb86-36" tabindex="-1"></a>    <span class="at">lucro =</span> receita <span class="sc">-</span> orcamento,</span>
<span id="cb86-37"><a href="importação-e-manipulação-de-dados.html#cb86-37" tabindex="-1"></a>    <span class="at">lucro_medio =</span> <span class="fu">mean</span>(lucro, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb86-38"><a href="importação-e-manipulação-de-dados.html#cb86-38" tabindex="-1"></a>    <span class="at">lucro_relativo =</span> (lucro <span class="sc">-</span> lucro_medio) <span class="sc">/</span> lucro_medio,</span>
<span id="cb86-39"><a href="importação-e-manipulação-de-dados.html#cb86-39" tabindex="-1"></a>    <span class="at">houve_lucro =</span> <span class="fu">if_else</span>(lucro <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">&quot;sim&quot;</span>, <span class="st">&quot;não&quot;</span>)</span>
<span id="cb86-40"><a href="importação-e-manipulação-de-dados.html#cb86-40" tabindex="-1"></a>  )</span>
<span id="cb86-41"><a href="importação-e-manipulação-de-dados.html#cb86-41" tabindex="-1"></a><span class="co"># e.</span></span>
<span id="cb86-42"><a href="importação-e-manipulação-de-dados.html#cb86-42" tabindex="-1"></a>data_imdb <span class="ot">&lt;-</span> data_imdb <span class="sc">%&gt;%</span></span>
<span id="cb86-43"><a href="importação-e-manipulação-de-dados.html#cb86-43" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">classificacao =</span> <span class="fu">if_else</span>(ano <span class="sc">&gt;</span> <span class="dv">2000</span>, <span class="st">&quot;recente&quot;</span>, <span class="st">&quot;antigo&quot;</span>))</span></code></pre></div>
</div>
</div>
<p><input type="password" id="passwordInput5" placeholder="Digite a senha">
<button id="submitButton5">Acesso Professor</button></p>
<script>

document.getElementById("submitButton5").addEventListener("click", function() 
{
  var password = document.getElementById("passwordInput5").value;
  var correctPassword = "0987";
  
  if (password === correctPassword) 
  {
    document.getElementById("protectedContent5").style.display = "block";
  }else 
  {
    alert("Senha incorreta! Tente novamente.");
  }
});
</script>
<div id="funções-summarise-group_by-e-count" class="section level4 unnumbered hasAnchor">
<h4>Funções <code>summarise</code>, <code>group_by</code> e <code>count</code><a href="importação-e-manipulação-de-dados.html#funções-summarise-group_by-e-count" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Para ilustrar estas funções considere os dados:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="importação-e-manipulação-de-dados.html#cb87-1" tabindex="-1"></a>filmes <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb87-2"><a href="importação-e-manipulação-de-dados.html#cb87-2" tabindex="-1"></a>  <span class="at">titulo =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;E&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;G&quot;</span>, <span class="st">&quot;H&quot;</span>, <span class="st">&quot;I&quot;</span>, <span class="st">&quot;J&quot;</span>),</span>
<span id="cb87-3"><a href="importação-e-manipulação-de-dados.html#cb87-3" tabindex="-1"></a>  <span class="at">ano =</span> <span class="fu">c</span>(<span class="dv">2020</span>, <span class="dv">2021</span>, <span class="dv">2020</span>, <span class="dv">2021</span>, <span class="dv">2021</span>, <span class="dv">2022</span>, <span class="dv">2022</span>, <span class="dv">2020</span>, <span class="dv">2022</span>, <span class="dv">2021</span>),</span>
<span id="cb87-4"><a href="importação-e-manipulação-de-dados.html#cb87-4" tabindex="-1"></a>  <span class="at">genero =</span> <span class="fu">c</span>(<span class="st">&quot;Ação&quot;</span>, <span class="st">&quot;Comédia&quot;</span>, <span class="st">&quot;Ação&quot;</span>, <span class="st">&quot;Comédia&quot;</span>, <span class="st">&quot;Drama&quot;</span>, <span class="st">&quot;Ação&quot;</span>, </span>
<span id="cb87-5"><a href="importação-e-manipulação-de-dados.html#cb87-5" tabindex="-1"></a>             <span class="st">&quot;Drama&quot;</span>, <span class="st">&quot;Ação&quot;</span>, <span class="st">&quot;Comédia&quot;</span>, <span class="st">&quot;Drama&quot;</span>),</span>
<span id="cb87-6"><a href="importação-e-manipulação-de-dados.html#cb87-6" tabindex="-1"></a>  <span class="at">receita =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">150</span>, <span class="dv">180</span>, <span class="dv">90</span>, <span class="dv">300</span>, <span class="dv">120</span>, <span class="dv">80</span>, <span class="dv">220</span>, <span class="dv">70</span>),</span>
<span id="cb87-7"><a href="importação-e-manipulação-de-dados.html#cb87-7" tabindex="-1"></a>  <span class="at">orcamento =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">60</span>, <span class="dv">90</span>, <span class="dv">40</span>, <span class="dv">80</span>, <span class="dv">50</span>, <span class="dv">30</span>, <span class="dv">100</span>, <span class="dv">35</span>),</span>
<span id="cb87-8"><a href="importação-e-manipulação-de-dados.html#cb87-8" tabindex="-1"></a>  <span class="at">nota =</span> <span class="fu">c</span>(<span class="fl">7.5</span>, <span class="fl">8.2</span>, <span class="fl">7.0</span>, <span class="fl">6.8</span>, <span class="fl">7.9</span>, <span class="fl">8.5</span>, <span class="fl">7.2</span>, <span class="fl">6.5</span>, <span class="fl">8.0</span>, <span class="fl">7.4</span>)</span>
<span id="cb87-9"><a href="importação-e-manipulação-de-dados.html#cb87-9" tabindex="-1"></a>)</span></code></pre></div>
<p>A função <code>summarise</code> possibilita calcular medidas resumo para os dados:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="importação-e-manipulação-de-dados.html#cb88-1" tabindex="-1"></a><span class="co"># Calculando a média dos orcamentos:</span></span>
<span id="cb88-2"><a href="importação-e-manipulação-de-dados.html#cb88-2" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">media_receita =</span> <span class="fu">mean</span>(receita, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1 × 1
##   media_receita
##           &lt;dbl&gt;
## 1           151</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="importação-e-manipulação-de-dados.html#cb90-1" tabindex="-1"></a><span class="co"># Calculando a mediana dos orcamentos:</span></span>
<span id="cb90-2"><a href="importação-e-manipulação-de-dados.html#cb90-2" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">mediana_receita =</span> <span class="fu">median</span>(receita, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1 × 1
##   mediana_receita
##             &lt;dbl&gt;
## 1             135</code></pre>
<p>Calculando várias medidas para a mesma variável:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="importação-e-manipulação-de-dados.html#cb92-1" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb92-2"><a href="importação-e-manipulação-de-dados.html#cb92-2" tabindex="-1"></a>  <span class="at">media =</span> <span class="fu">mean</span>(receita, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb92-3"><a href="importação-e-manipulação-de-dados.html#cb92-3" tabindex="-1"></a>  <span class="at">mediana =</span> <span class="fu">median</span>(receita, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb92-4"><a href="importação-e-manipulação-de-dados.html#cb92-4" tabindex="-1"></a>  <span class="at">minimo =</span> <span class="fu">min</span>(receita, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb92-5"><a href="importação-e-manipulação-de-dados.html#cb92-5" tabindex="-1"></a>  <span class="at">maximo =</span> <span class="fu">max</span>(receita, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb92-6"><a href="importação-e-manipulação-de-dados.html#cb92-6" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 1 × 4
##   media mediana minimo maximo
##   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1   151     135     70    300</code></pre>
<p>Calculando medidas para variáveis distintas:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="importação-e-manipulação-de-dados.html#cb94-1" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(</span>
<span id="cb94-2"><a href="importação-e-manipulação-de-dados.html#cb94-2" tabindex="-1"></a>  <span class="at">media_orcamento =</span> <span class="fu">mean</span>(orcamento, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb94-3"><a href="importação-e-manipulação-de-dados.html#cb94-3" tabindex="-1"></a>  <span class="at">media_receita =</span> <span class="fu">mean</span>(receita, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb94-4"><a href="importação-e-manipulação-de-dados.html#cb94-4" tabindex="-1"></a>  <span class="at">media_nota =</span> <span class="fu">mean</span>(nota, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb94-5"><a href="importação-e-manipulação-de-dados.html#cb94-5" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 1 × 3
##   media_orcamento media_receita media_nota
##             &lt;dbl&gt;         &lt;dbl&gt;      &lt;dbl&gt;
## 1            63.5           151        7.5</code></pre>
<p>A função <code>group_by</code>, possibilita aplicar o <code>summarise</code> para uma variável por categorias de uma ou mais variáveis.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="importação-e-manipulação-de-dados.html#cb96-1" tabindex="-1"></a><span class="co"># Calculando a receita média dos filmes por ano.</span></span>
<span id="cb96-2"><a href="importação-e-manipulação-de-dados.html#cb96-2" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> </span>
<span id="cb96-3"><a href="importação-e-manipulação-de-dados.html#cb96-3" tabindex="-1"></a>  <span class="fu">group_by</span>(ano) <span class="sc">%&gt;%</span> </span>
<span id="cb96-4"><a href="importação-e-manipulação-de-dados.html#cb96-4" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">receita_media =</span> <span class="fu">mean</span>(receita, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) </span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##     ano receita_media
##   &lt;dbl&gt;         &lt;dbl&gt;
## 1  2020          110 
## 2  2021          135 
## 3  2022          213.</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="importação-e-manipulação-de-dados.html#cb98-1" tabindex="-1"></a><span class="co"># Calculando a receita média dos filmes por genero.</span></span>
<span id="cb98-2"><a href="importação-e-manipulação-de-dados.html#cb98-2" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> </span>
<span id="cb98-3"><a href="importação-e-manipulação-de-dados.html#cb98-3" tabindex="-1"></a>  <span class="fu">group_by</span>(genero) <span class="sc">%&gt;%</span> </span>
<span id="cb98-4"><a href="importação-e-manipulação-de-dados.html#cb98-4" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">receita_media =</span> <span class="fu">mean</span>(receita, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) </span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   genero  receita_media
##   &lt;chr&gt;           &lt;dbl&gt;
## 1 Ação            158. 
## 2 Comédia         200  
## 3 Drama            93.3</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="importação-e-manipulação-de-dados.html#cb100-1" tabindex="-1"></a><span class="co"># Calculando a receita média dos filmes por ano e genero.</span></span>
<span id="cb100-2"><a href="importação-e-manipulação-de-dados.html#cb100-2" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> </span>
<span id="cb100-3"><a href="importação-e-manipulação-de-dados.html#cb100-3" tabindex="-1"></a>  <span class="fu">group_by</span>(ano, genero) <span class="sc">%&gt;%</span> </span>
<span id="cb100-4"><a href="importação-e-manipulação-de-dados.html#cb100-4" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">receita_media =</span> <span class="fu">mean</span>(receita, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) </span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;ano&#39;. You can override using the `.groups`
## argument.</code></pre>
<pre><code>## # A tibble: 6 × 3
## # Groups:   ano [3]
##     ano genero  receita_media
##   &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;
## 1  2020 Ação              110
## 2  2021 Comédia           190
## 3  2021 Drama              80
## 4  2022 Ação              300
## 5  2022 Comédia           220
## 6  2022 Drama             120</code></pre>
<p>A função <code>group_by</code> em conjunto com <code>summarise</code> também permite contar o número de observações.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="importação-e-manipulação-de-dados.html#cb103-1" tabindex="-1"></a><span class="co"># Calculando o total de filmes por ano.</span></span>
<span id="cb103-2"><a href="importação-e-manipulação-de-dados.html#cb103-2" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> </span>
<span id="cb103-3"><a href="importação-e-manipulação-de-dados.html#cb103-3" tabindex="-1"></a>  <span class="fu">group_by</span>(ano) <span class="sc">%&gt;%</span> </span>
<span id="cb103-4"><a href="importação-e-manipulação-de-dados.html#cb103-4" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##     ano     n
##   &lt;dbl&gt; &lt;int&gt;
## 1  2020     3
## 2  2021     4
## 3  2022     3</code></pre>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="importação-e-manipulação-de-dados.html#cb105-1" tabindex="-1"></a><span class="co"># Calculando o total de filmes por genero</span></span>
<span id="cb105-2"><a href="importação-e-manipulação-de-dados.html#cb105-2" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> </span>
<span id="cb105-3"><a href="importação-e-manipulação-de-dados.html#cb105-3" tabindex="-1"></a>  <span class="fu">group_by</span>(genero) <span class="sc">%&gt;%</span> </span>
<span id="cb105-4"><a href="importação-e-manipulação-de-dados.html#cb105-4" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   genero      n
##   &lt;chr&gt;   &lt;int&gt;
## 1 Ação        4
## 2 Comédia     3
## 3 Drama       3</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="importação-e-manipulação-de-dados.html#cb107-1" tabindex="-1"></a><span class="co"># Calculando o total de filmes por ano e genero</span></span>
<span id="cb107-2"><a href="importação-e-manipulação-de-dados.html#cb107-2" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> </span>
<span id="cb107-3"><a href="importação-e-manipulação-de-dados.html#cb107-3" tabindex="-1"></a>  <span class="fu">group_by</span>(ano, genero) <span class="sc">%&gt;%</span> </span>
<span id="cb107-4"><a href="importação-e-manipulação-de-dados.html#cb107-4" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;ano&#39;. You can override using the `.groups`
## argument.</code></pre>
<pre><code>## # A tibble: 6 × 3
## # Groups:   ano [3]
##     ano genero      n
##   &lt;dbl&gt; &lt;chr&gt;   &lt;int&gt;
## 1  2020 Ação        3
## 2  2021 Comédia     2
## 3  2021 Drama       2
## 4  2022 Ação        1
## 5  2022 Comédia     1
## 6  2022 Drama       1</code></pre>
<p>Para contagem de observações, a função <code>count</code> também pode ser usada:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="importação-e-manipulação-de-dados.html#cb110-1" tabindex="-1"></a><span class="co"># Calculando o total de filmes por ano.</span></span>
<span id="cb110-2"><a href="importação-e-manipulação-de-dados.html#cb110-2" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> <span class="fu">count</span>(ano)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##     ano     n
##   &lt;dbl&gt; &lt;int&gt;
## 1  2020     3
## 2  2021     4
## 3  2022     3</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="importação-e-manipulação-de-dados.html#cb112-1" tabindex="-1"></a><span class="co"># Calculando o total de filmes por genero</span></span>
<span id="cb112-2"><a href="importação-e-manipulação-de-dados.html#cb112-2" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> <span class="fu">count</span>(genero, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   genero      n
##   &lt;chr&gt;   &lt;int&gt;
## 1 Ação        4
## 2 Comédia     3
## 3 Drama       3</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="importação-e-manipulação-de-dados.html#cb114-1" tabindex="-1"></a><span class="co"># Calculando o total de filmes por ano e por genero</span></span>
<span id="cb114-2"><a href="importação-e-manipulação-de-dados.html#cb114-2" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> <span class="fu">count</span>(ano, genero)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 3
##     ano genero      n
##   &lt;dbl&gt; &lt;chr&gt;   &lt;int&gt;
## 1  2020 Ação        3
## 2  2021 Comédia     2
## 3  2021 Drama       2
## 4  2022 Ação        1
## 5  2022 Comédia     1
## 6  2022 Drama       1</code></pre>
</div>
<div id="exercícios-15" class="section level4 unnumbered hasAnchor">
<h4>Exercícios<a href="importação-e-manipulação-de-dados.html#exercícios-15" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Utilize a base imdb e as funções do pacote <code>dplyr</code> nos exercícios a seguir.</p>
<ol style="list-style-type: lower-alpha">
<li>Calcule a duração média e mediana dos filmes da base.</li>
<li>Calcule o lucro médio dos filmes com duração maior que 2 horas (ou seja, 120 minutos).</li>
<li>Apresente na mesma tabela o lucro médio dos filmes com duracao menor que 120 minutos e o lucro médio dos filmes com duracao maior ou igual a 120 minutos.</li>
<li>Calcule a nota IMDB média dos filmes por ano de lançamento e ordene em relação ao ano.</li>
<li>Calcule a receita média e mediana dos filmes por ano e ordene em relação ao ano. Retorne a tabela sem NA’s.</li>
</ol>
</div>
<div id="protectedContent6" style="display:none;">
<div id="respostas-19" class="section level3 unnumbered hasAnchor">
<h3>Respostas<a href="importação-e-manipulação-de-dados.html#respostas-19" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="importação-e-manipulação-de-dados.html#cb116-1" tabindex="-1"></a><span class="co"># a.</span></span>
<span id="cb116-2"><a href="importação-e-manipulação-de-dados.html#cb116-2" tabindex="-1"></a>data_imdb <span class="sc">%&gt;%</span> </span>
<span id="cb116-3"><a href="importação-e-manipulação-de-dados.html#cb116-3" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb116-4"><a href="importação-e-manipulação-de-dados.html#cb116-4" tabindex="-1"></a>    <span class="at">duracao_media =</span> <span class="fu">mean</span>(duracao, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb116-5"><a href="importação-e-manipulação-de-dados.html#cb116-5" tabindex="-1"></a>    <span class="at">duracao_mediana =</span> <span class="fu">median</span>(duracao, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb116-6"><a href="importação-e-manipulação-de-dados.html#cb116-6" tabindex="-1"></a>  )</span>
<span id="cb116-7"><a href="importação-e-manipulação-de-dados.html#cb116-7" tabindex="-1"></a><span class="co"># b.</span></span>
<span id="cb116-8"><a href="importação-e-manipulação-de-dados.html#cb116-8" tabindex="-1"></a>data_imdb <span class="sc">%&gt;%</span> </span>
<span id="cb116-9"><a href="importação-e-manipulação-de-dados.html#cb116-9" tabindex="-1"></a>  <span class="fu">filter</span>(duracao <span class="sc">&gt;</span> <span class="dv">120</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb116-10"><a href="importação-e-manipulação-de-dados.html#cb116-10" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lucro =</span> receita <span class="sc">-</span> orcamento) <span class="sc">%&gt;%</span></span>
<span id="cb116-11"><a href="importação-e-manipulação-de-dados.html#cb116-11" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">lucro_medio =</span> <span class="fu">mean</span>(lucro, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb116-12"><a href="importação-e-manipulação-de-dados.html#cb116-12" tabindex="-1"></a><span class="co"># c.</span></span>
<span id="cb116-13"><a href="importação-e-manipulação-de-dados.html#cb116-13" tabindex="-1"></a>data_imdb <span class="sc">%&gt;%</span></span>
<span id="cb116-14"><a href="importação-e-manipulação-de-dados.html#cb116-14" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lucro =</span> receita <span class="sc">-</span> orcamento,</span>
<span id="cb116-15"><a href="importação-e-manipulação-de-dados.html#cb116-15" tabindex="-1"></a>         <span class="at">grupo_duracao =</span> <span class="fu">ifelse</span>(duracao <span class="sc">&lt;</span> <span class="dv">120</span>, <span class="st">&quot;&lt; 120 min&quot;</span>, </span>
<span id="cb116-16"><a href="importação-e-manipulação-de-dados.html#cb116-16" tabindex="-1"></a>         <span class="st">&quot;≥ 120 min&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb116-17"><a href="importação-e-manipulação-de-dados.html#cb116-17" tabindex="-1"></a>  <span class="fu">group_by</span>(grupo_duracao) <span class="sc">%&gt;%</span></span>
<span id="cb116-18"><a href="importação-e-manipulação-de-dados.html#cb116-18" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">lucro_medio =</span> <span class="fu">mean</span>(lucro, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb116-19"><a href="importação-e-manipulação-de-dados.html#cb116-19" tabindex="-1"></a><span class="co"># d</span></span>
<span id="cb116-20"><a href="importação-e-manipulação-de-dados.html#cb116-20" tabindex="-1"></a>notas_por_ano <span class="ot">&lt;-</span> data_imdb <span class="sc">%&gt;%</span></span>
<span id="cb116-21"><a href="importação-e-manipulação-de-dados.html#cb116-21" tabindex="-1"></a>  <span class="fu">group_by</span>(ano) <span class="sc">%&gt;%</span></span>
<span id="cb116-22"><a href="importação-e-manipulação-de-dados.html#cb116-22" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">nota_media =</span> <span class="fu">mean</span>(nota_imdb, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb116-23"><a href="importação-e-manipulação-de-dados.html#cb116-23" tabindex="-1"></a>  <span class="fu">arrange</span>(ano)</span>
<span id="cb116-24"><a href="importação-e-manipulação-de-dados.html#cb116-24" tabindex="-1"></a><span class="co"># e.</span></span>
<span id="cb116-25"><a href="importação-e-manipulação-de-dados.html#cb116-25" tabindex="-1"></a>receita_por_ano <span class="ot">&lt;-</span> data_imdb <span class="sc">%&gt;%</span></span>
<span id="cb116-26"><a href="importação-e-manipulação-de-dados.html#cb116-26" tabindex="-1"></a>  <span class="fu">group_by</span>(ano) <span class="sc">%&gt;%</span></span>
<span id="cb116-27"><a href="importação-e-manipulação-de-dados.html#cb116-27" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb116-28"><a href="importação-e-manipulação-de-dados.html#cb116-28" tabindex="-1"></a>    <span class="at">receita_media =</span> <span class="fu">mean</span>(receita, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb116-29"><a href="importação-e-manipulação-de-dados.html#cb116-29" tabindex="-1"></a>    <span class="at">receita_mediana =</span> <span class="fu">median</span>(receita, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb116-30"><a href="importação-e-manipulação-de-dados.html#cb116-30" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(ano)  <span class="sc">%&gt;%</span></span>
<span id="cb116-31"><a href="importação-e-manipulação-de-dados.html#cb116-31" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(receita_media), <span class="sc">!</span><span class="fu">is.na</span>(receita_mediana))</span></code></pre></div>
</div>
</div>
<p><input type="password" id="passwordInput6" placeholder="Digite a senha">
<button id="submitButton6">Acesso Professor</button></p>
<script>
document.getElementById("submitButton6").addEventListener("click", function() 
{
  var password = document.getElementById("passwordInput6").value;
  var correctPassword = "0987";
  
  if (password === correctPassword) 
  {
    document.getElementById("protectedContent6").style.display = "block";
  }else 
  {
    alert("Senha incorreta! Tente novamente.");
  }
});
</script>
</div>
<div id="exercícios-do-capítulo-4-entregar-na-lista-1" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Exercícios do Capítulo 4 <span style="color:red">(Entregar na lista 1)</span><a href="importação-e-manipulação-de-dados.html#exercícios-do-capítulo-4-entregar-na-lista-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>1</strong> Crie um data frame no R com os dados fictícios. Após isso, crie uma pasta no computador chamada “meus_dados” e usando as funções do pacote <code>readr</code>, use as funções de exportação para enviar os dados do R, nos formatos txt e csv, para a pasta “meus_dados”. Após isso utilize as funções de importação para trazer novamente estes dados para o R.</p>
<p><strong>2.</strong> Crie dois conjuntos de dados em duas planilhas distintas de um arquivo de excel e salve o arquivo em alguma pasta do seu computador com a extensão .xlsx. Na sequencia, importe estes dados para o R e exiba os nomes das planilhas, usando funções do pacote <code>readxl</code>.</p>
<p><strong>3.</strong> Considerando os dados do imdb e as funções do pacote <code>dplyr</code>:</p>
<ol style="list-style-type: lower-alpha">
<li>Filtre os filmes lançados entre 1990 e 1999 com lucro (receita - orçamento) positivo. Em seguida, mostre apenas titulo, ano e lucro, ordenados por lucro decrescente.</li>
<li>Crie uma nova variável lucro = receita - orcamento, e depois: selecione os gêneros “Action”, “Drama” e “Comedy”, calcule o lucro médio por gênero, ordene do maior para o menor lucro.</li>
<li>Crie uma tabela apenas com os diretores que: dirigiram mais de 10 filmes e cuja nota média no IMDb ultrapassa 7.</li>
<li>Filtre todos os filmes cujo título contém “Love” e mostre titulo, ano, genero, e nota_imdb, ordenados da maior para a menor nota.</li>
<li>Crie uma coluna faixa_lucro com os seguintes critérios:</li>
</ol>
<ul>
<li>“grande prejuízo” se lucro &lt; -10 milhões</li>
<li>“prejuízo moderado” se entre -10M e 0</li>
<li>“pequeno lucro” se entre 0 e 10M</li>
<li>“grande lucro” se lucro &gt; 10M</li>
</ul>
<p>Depois, mostre a contagem de filmes em cada faixa.</p>
<p><strong>4.</strong> Pesquise, explique o conceito e dê exemplos de outras 3 funções do pacote <code>dplyr</code>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="controle-de-fluxo-e-funções.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="análises-estatísticas-básicas.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
